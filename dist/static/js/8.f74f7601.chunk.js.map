{"version":3,"sources":["Views/Components/CartList.js","api/cart.js"],"names":["CartList","userId","APP_TOKEN","get","roleId","role_id","useState","cartList","setCartList","CART_TOKEN","cartTotal","totalInCart","setTotalInCart","setCartTotal","removeProductInCart","productId","a","removeProduct","useEffect","cart","map","data","Number","total","className","style","padding","id","href","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","aria-haspopup","aria-labelledby","class","length","index","product_name","quantity","ordered_unit_name","onClick","PARAMS","methodType","method","headers","authHeader","payload","URL","c","axios","Object","assign","checkError"],"mappings":"sOAUe,SAASA,IACvB,IAAMC,EAASC,IAAUC,MAAMF,OACtBG,EAASF,IAAUC,MAAME,QAFA,EAKCC,mBAAS,IALV,mBAKxBC,EALwB,KAKdC,EALc,OAMIF,mBAASG,IAAWN,MAAMO,WAN9B,mBAM3BC,EAN2B,KAMdC,EANc,OAODN,qBAPC,mBAOhBO,GAPgB,WAS5BC,EAAmB,uCAAE,WAAOC,GAAP,SAAAC,EAAA,sDAC1BP,IAAWQ,cAAc,CAACF,UAAYA,IACtCH,EAAeH,IAAWN,MAAMO,WAFN,2CAAF,sDActB,OATHQ,qBAAU,WACTV,EAAYC,IAAWN,MAAMgB,MAC7B,IAAIT,EAAY,EAChBD,IAAWN,MAAMgB,KAAKC,KAAI,SAAAC,GACzBX,GAAwBY,OAAOD,EAAKE,UAErCV,EAAaH,KACT,CAACC,IAGL,kBAAC,WAAD,KACC,yBAAKa,UAAU,mBACN,yBAAKA,UAAU,aACX,yBAAKA,UAAU,sEACX,yBAAKA,UAAU,qBACX,yBAAKA,UAAU,aAAaC,MAAO,CAACC,QAAQ,cAiB5D,yBAAKF,UAAU,4EAA4EG,GAAG,eAC1F,yBAAKH,UAAU,aACf,uBAAGA,UAAU,eAAeI,KAAK,KAAjC,gBACA,4BAAQJ,UAAU,iBAAiBK,KAAK,SAASC,cAAY,WAAWC,cAAY,YAAYC,gBAAc,WAAWC,gBAAc,QAAQC,aAAW,qBACtJ,0BAAMV,UAAU,eADpB,SAIA,yBAAKA,UAAU,2BAA2BG,GAAG,YAE7B,GAAV1B,GAAyB,GAAVG,EACb,wBAAIoB,UAAU,sBAC5B,wBAAIA,UAAU,YAAW,uBAAGI,KAAK,IAAIJ,UAAU,YAAtB,SACP,wBAAIA,UAAU,qBACV,uBAAGA,UAAU,2BAA2BI,KAAK,IAAID,GAAG,aAAaG,cAAY,WAAWK,gBAAc,OAAOF,gBAAc,SAA3H,YACA,yBAAKT,UAAU,gBAAgBY,kBAAgB,cAC3C,uBAAGZ,UAAU,gBAAgBI,KAAK,oBAAlC,WACA,uBAAGJ,UAAU,gBAAgBI,KAAK,uBAAlC,eAGR,wBAAIJ,UAAU,qBACV,uBAAGA,UAAU,2BAA2BI,KAAK,IAAID,GAAG,aAAaG,cAAY,WAAWK,gBAAc,OAAOF,gBAAc,SAA3H,UACA,yBAAKT,UAAU,gBAAgBY,kBAAgB,cAC3C,uBAAGZ,UAAU,gBAAgBI,KAAK,oBAAlC,UAGR,wBAAIJ,UAAU,YAAW,uBAAGI,KAAK,UAAUJ,UAAU,YAA5B,YAG7B,wBAAIA,UAAU,sBACV,wBAAIA,UAAU,YAAW,uBAAGI,KAAK,IAAIJ,UAAU,YAAtB,SACzB,wBAAIA,UAAU,qBACV,uBAAGA,UAAU,2BAA2BI,KAAK,IAAID,GAAG,aAAaG,cAAY,WAAWK,gBAAc,OAAOF,gBAAc,SAA3H,UACA,yBAAKT,UAAU,gBAAgBY,kBAAgB,cAC3C,uBAAGZ,UAAU,gBAAgBI,KAAK,yBAAlC,UAGR,wBAAIJ,UAAU,4BAA2B,uBAAGI,KAAK,aAAaJ,UAAU,YAAW,0BAAMA,UAAU,uBAA1D,IAAwFb,EAAxF,MACzC,wBAAIa,UAAU,YAAW,uBAAGI,KAAK,UAAUJ,UAAU,YAA5B,eAazC,6BAASA,UAAU,gCACxB,yBAAKA,UAAU,aACd,yBAAKA,UAAU,OACd,yBAAKA,UAAU,iDACf,wBAAIa,MAAM,wBAAV,aACC,yBAAKb,UAAU,aACd,2BAAOA,UAAU,SAChB,2BAAOA,UAAU,iBACjB,wBAAIA,UAAU,eACb,4CAEA,wCAEA,sCAGD,gCACGjB,EAAS+B,OAAS,EAAI/B,EAAW,IAAIa,KAAI,SAACC,EAAMkB,GACjD,OACC,wBAAIf,UAAU,eACb,wBAAIA,UAAU,gBAAd,IAA8B,4BAAKH,EAAKmB,eAExC,wBAAIhB,UAAU,SAAd,UAA0BH,EAAKoB,SAA/B,YAA2CpB,EAAKqB,oBAEhD,wBAAIlB,UAAU,kBACb,uBAAGA,UAAU,gEACZmB,QAAS,WAAK7B,EAAoBO,EAAKM,MAEvC,8BAAM,uBAAGH,UAAU,8BAY9B,yBAAKa,MAAM,2BACP,yBAAKA,MAAM,gEAaX,yBAAKA,MAAM,gEAqBX,yBAAKA,MAAM,+DAqBV,2BAAG,uBAAGT,KAAK,uBAAuBS,MAAM,mCAArC,4BAKV,kBAAC,IAAD,S,iGC1MKO,EAAS,SAAC,GAAD,QAAGC,WAAH,MAA6B,CAC1CC,YADa,MAAgB,MAAhB,EAEbC,QAASC,iBAME,WAAD,4BAAC,mCAAAhC,EAAA,6DAAWiC,EAAX,oBACHC,EADG,UACMC,IADN,sCAGgBC,IAAMF,EAAKG,OAAOC,OAAO,GAAIV,EAAO,CAAEC,WAAY,SAAW,CAClFxB,KAAM4B,KAJD,uBAGC5B,EAHD,EAGCA,KAHD,kBAOAA,GAPA,wCASPkC,YAAW,EAAD,IATH","file":"static/js/8.f74f7601.chunk.js","sourcesContent":["import React, {useState, useEffect, Fragment} from 'react';\r\n\r\n//Components \r\nimport CategoriesAPI from '../../api/categories.js';\r\nimport StaticAPI from '../../api/static.js';\r\nimport CartAPI from '../../api/cart.js';\r\nimport {CART_TOKEN, APP_TOKEN} from '../../api/config/Constants.js';\r\nimport Footer from '../Partials/Footer.js';\r\nimport Header from '../Partials/Header.js';\r\n\r\nexport default function CartList() {\r\n\tconst userId = APP_TOKEN.get().userId;\r\n    const roleId = APP_TOKEN.get().role_id;\r\n\t\r\n\t\r\n    const [cartList, setCartList] = useState([]);\r\n\tconst [totalInCart, setTotalInCart] = useState(CART_TOKEN.get().cartTotal);\r\n\tconst [cartTotal, setCartTotal]= useState();\r\n\r\n\tconst removeProductInCart =async (productId) => {\t\t\r\n\t\tCART_TOKEN.removeProduct({productId : productId});\t\t\t\t\r\n\t\tsetTotalInCart(CART_TOKEN.get().cartTotal)\r\n\t}\r\n\r\n\tuseEffect(()=>{\t\t\r\n\t\tsetCartList(CART_TOKEN.get().cart);\r\n\t\tlet cartTotal = 0;\r\n\t\tCART_TOKEN.get().cart.map(data => {\r\n\t\t\tcartTotal = cartTotal + Number(data.total);\r\n\t\t})\r\n\t\tsetCartTotal(cartTotal);\r\n    },[totalInCart]);\r\n\r\n    return(\r\n\t\t<Fragment>\r\n\t\t\t<div className=\"py-1 bg-primary\">\r\n            <div className=\"container\">\r\n                <div className=\"row no-gutters d-flex align-items-start align-items-center px-md-0\">\r\n                    <div className=\"col-lg-12 d-block\">\r\n                        <div className=\"row d-flex\" style={{padding:'10px'}}>\r\n                            {/* <div className=\"col-md pr-4 d-flex topper align-items-center\">\r\n                                <div className=\"icon mr-2 d-flex justify-content-center align-items-center\"><span className=\"icon-phone2\"></span></div>\r\n                                <span className=\"text\">+ 1235 2355 98</span>\r\n                            </div>\r\n                            <div className=\"col-md pr-4 d-flex topper align-items-center\">\r\n                                <div className=\"icon mr-2 d-flex justify-content-center align-items-center\"><span className=\"icon-paper-plane\"></span></div>\r\n                                <span className=\"text\">youremail@email.com</span>\r\n                            </div>\r\n                            <div className=\"col-md-5 pr-4 d-flex topper align-items-center text-lg-right\">\r\n                                <span className=\"text\">3-5 Business days delivery &amp; Free Returns</span>\r\n                            </div> */}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <nav className=\"navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light\" id=\"ftco-navbar\">\r\n            <div className=\"container\">\r\n            <a className=\"navbar-brand\" href=\"/\">SA SUPERMART</a>\r\n            <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#ftco-nav\" aria-controls=\"ftco-nav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                <span className=\"oi oi-menu\"></span> Menu\r\n            </button>\r\n\r\n            <div className=\"collapse navbar-collapse\" id=\"ftco-nav\">\r\n                {/* <li className=\"nav-item active\"><a href=\"/\" className=\"nav-link\">Home</a></li> */}\r\n                {(userId == 1 && roleId == 1) ?\r\n                    <ul className=\"navbar-nav ml-auto\">   \r\n\t\t\t\t\t\t<li className=\"nav-item\"><a href=\"/\" className=\"nav-link\">Home</a></li> \r\n                        <li className=\"nav-item dropdown\">\r\n                            <a className=\"nav-link dropdown-toggle\" href=\"#\" id=\"dropdown04\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">Products</a>\r\n                            <div className=\"dropdown-menu\" aria-labelledby=\"dropdown04\">\r\n                                <a className=\"dropdown-item\" href=\"/add-new-product\">Add New</a>\r\n                                <a className=\"dropdown-item\" href=\"/view-added-product\">View List</a>                    \r\n                            </div>\r\n                        </li>\r\n                        <li className=\"nav-item dropdown\">\r\n                            <a className=\"nav-link dropdown-toggle\" href=\"#\" id=\"dropdown04\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">Orders</a>\r\n                            <div className=\"dropdown-menu\" aria-labelledby=\"dropdown04\">\r\n                                <a className=\"dropdown-item\" href=\"/view-order-list\">View</a>\r\n                            </div>\r\n                        </li>\r\n                        <li className=\"nav-item\"><a href=\"/logout\" className=\"nav-link\">Logout</a></li> \r\n                    </ul>\r\n                    :\r\n                    <ul className=\"navbar-nav ml-auto\">   \r\n                        <li className=\"nav-item\"><a href=\"/\" className=\"nav-link\">Home</a></li> \r\n                        <li className=\"nav-item dropdown\">\r\n                            <a className=\"nav-link dropdown-toggle\" href=\"#\" id=\"dropdown04\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">Orders</a>\r\n                            <div className=\"dropdown-menu\" aria-labelledby=\"dropdown04\">\r\n                                <a className=\"dropdown-item\" href=\"/view-user-order-list\">View</a>\r\n                            </div>\r\n                        </li>\r\n                        <li className=\"nav-item cta cta-colored\"><a href=\"/cart-list\" className=\"nav-link\"><span className=\"icon-shopping_cart\"></span>[{totalInCart}]</a></li>\r\n                        <li className=\"nav-item\"><a href=\"/logout\" className=\"nav-link\">Logout</a></li> \r\n                    </ul>\r\n                }\r\n                \r\n                {/* <li className=\"nav-item\"><a href=\"#\" className=\"nav-link\">About</a></li>\r\n                <li className=\"nav-item\"><a href=\"#\" className=\"nav-link\">Blog</a></li>\r\n                <li className=\"nav-item\"><a href=\"#\" className=\"nav-link\">Contact</a></li> */}\r\n            </div>\r\n            </div>\r\n        </nav>\r\n\r\n\r\n\r\n        <section className=\"cat_product_area section_gap\">\r\n\t\t\t<div className=\"container\">\t\t\t\t\t\t\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-md-12 ftco-animate fadeInUp ftco-animated\">\r\n\t\t\t\t\t<h3 class=\"mb-4 billing-heading\">Cart List</h3>\r\n\t\t\t\t\t\t<div className=\"cart-list\">\r\n\t\t\t\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t\t\t\t<thead className=\"thead-primary\">\r\n\t\t\t\t\t\t\t\t<tr className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t<th>Product List</th>\r\n\t\t\t\t\t\t\t\t\t{/* <th>Price</th> */}\r\n\t\t\t\t\t\t\t\t\t<th>Quantity</th>\r\n\t\t\t\t\t\t\t\t\t{/* <th>Total</th> */}\r\n\t\t\t\t\t\t\t\t\t<th>&nbsp;</th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{(cartList.length > 0 ? cartList : []).map((data, index) => {\r\n\t\t\t\t\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t\t\t\t\t<tr className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"product-name\"> <h3>{data.product_name }</h3></td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/* <td className=\"price\">{`$${data.price}/${data.unit_name}`}</td> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"price\">{`${data.quantity} ${data.ordered_unit_name}`}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/* <td className=\"price\">{`${data.total}`}</td> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"product-remove\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<a className=\"buy-now d-flex justify-content-center align-items-center mx-1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={()=>{removeProductInCart(data.id)}} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span><i className=\"ion-ios-close\"></i></span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</a>    \r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\t\r\n\t\t\t<div class=\"row justify-content-end\">\r\n    \t\t\t<div class=\"col-lg-4 mt-5 cart-wrap ftco-animate fadeInUp ftco-animated\">\r\n    \t\t\t\t{/* <div class=\"cart-total mb-3\">\r\n    \t\t\t\t\t<h3>Coupon Code</h3>\r\n    \t\t\t\t\t<p>Enter your coupon code if you have one</p>\r\n  \t\t\t\t\t\t<form action=\"#\" class=\"info\">\r\n\t              <div class=\"form-group\">\r\n\t              \t<label for=\"\">Coupon code</label>\r\n\t                <input type=\"text\" class=\"form-control text-left px-3\" placeholder=\"\" />\r\n\t              </div>\r\n\t            </form>\r\n    \t\t\t\t</div>\r\n    \t\t\t\t<p><a href=\"checkout.html\" class=\"btn btn-primary py-3 px-4\">Apply Coupon</a></p> */}\r\n    \t\t\t</div>\r\n    \t\t\t<div class=\"col-lg-4 mt-5 cart-wrap ftco-animate fadeInUp ftco-animated\">\r\n    \t\t\t\t{/* <div class=\"cart-total mb-3\">\r\n    \t\t\t\t\t<h3>Estimate shipping and tax</h3>\r\n    \t\t\t\t\t<p>Enter your destination to get a shipping estimate</p>\r\n  \t\t\t\t\t\t<form action=\"#\" class=\"info\">\r\n\t              <div class=\"form-group\">\r\n\t              \t<label for=\"\">Country</label>\r\n\t                <input type=\"text\" class=\"form-control text-left px-3\" placeholder=\"\" />\r\n\t              </div>\r\n\t              <div class=\"form-group\">\r\n\t              \t<label for=\"country\">State/Province</label>\r\n\t                <input type=\"text\" class=\"form-control text-left px-3\" placeholder=\"\" />\r\n\t              </div>\r\n\t              <div class=\"form-group\">\r\n\t              \t<label for=\"country\">Zip/Postal Code</label>\r\n\t                <input type=\"text\" class=\"form-control text-left px-3\" placeholder=\"\" />\r\n\t              </div>\r\n\t            </form>\r\n    \t\t\t\t</div>\r\n    \t\t\t\t<p><a href=\"checkout.html\" class=\"btn btn-primary py-3 px-4\">Estimate</a></p> */}\r\n    \t\t\t</div>\r\n    \t\t\t<div class=\"col-lg-4 mt-5 cart-wrap ftco-animate fadeInUp ftco-animated\">\r\n    \t\t\t\t{/* <div class=\"cart-total mb-3\">\r\n    \t\t\t\t\t<h3>Cart Totals</h3>\r\n    \t\t\t\t\t<p class=\"d-flex\">\r\n    \t\t\t\t\t\t<span>Subtotal</span>\r\n    \t\t\t\t\t\t<span>$20.60</span>\r\n    \t\t\t\t\t</p>\r\n    \t\t\t\t\t<p class=\"d-flex\">\r\n    \t\t\t\t\t\t<span>Delivery</span>\r\n    \t\t\t\t\t\t<span>$0.00</span>\r\n    \t\t\t\t\t</p>\r\n    \t\t\t\t\t<p class=\"d-flex\">\r\n    \t\t\t\t\t\t<span>Discount</span>\r\n    \t\t\t\t\t\t<span>$3.00</span>\r\n    \t\t\t\t\t</p>\r\n    \t\t\t\t\t<hr />\r\n    \t\t\t\t\t<p class=\"d-flex total-price\">\r\n    \t\t\t\t\t\t<span>Total</span>\r\n    \t\t\t\t\t\t<span>{`$${cartTotal}`}</span>\r\n    \t\t\t\t\t</p>\r\n    \t\t\t\t</div> */}\r\n    \t\t\t\t<p><a href=\"/proceed-to-checkout\" class=\"btn btn-primary py-3 px-4 w-100\" >Proceed to Checkout</a></p>\r\n    \t\t\t</div>\r\n    \t\t</div>\r\n\t\t</div>\r\n\t</section>\r\n\t<Footer />\r\n\t</Fragment>\r\n    )\r\n}","import axios from 'axios';\r\nimport * as c from './config/Constants';\r\nimport checkError from './config/HttpClient';\r\nimport {authHeader} from './config/AuthHeader.js';\r\n\r\nconst PARAMS = ({ methodType = 'GET' }) => ({\r\n  method: methodType,\r\n  headers: authHeader(),\r\n});\r\n\r\nexport default {\r\n\r\n  \r\n  addProduct:async ({...payload }) => {\r\n    const URL = `${c.API_CONSUMER}/cart/addProduct`;\r\n    try {\r\n      const { data } = await axios(URL, Object.assign({}, PARAMS({ methodType: 'POST' }), {\r\n        data: payload,\r\n      }),\r\n    );\r\n      return data;\r\n    } catch (error) {\r\n      checkError(error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n};"],"sourceRoot":""}