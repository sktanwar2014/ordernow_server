(this.webpackJsonpnew=this.webpackJsonpnew||[]).push([[6],{73:function(e,t,a){"use strict";var r=a(2),n=a.n(r),c=a(3),u=a(5),o=a.n(u),i=a(1),s=a(6),l=a(16),d=function(e){var t=e.methodType;return{method:void 0===t?"GET":t,headers:Object(l.a)()}};t.a={getProductPacketInfo:function(){var e=Object(c.a)(n.a.mark((function e(t){var a,r,c,u;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign({},t),r="".concat(i.a,"/categories/getProductPacketInfo"),e.prev=2,e.next=5,o()(r,Object.assign({},d({methodType:"POST"}),{data:a}));case 5:return c=e.sent,u=c.data,e.abrupt("return",u);case 10:throw e.prev=10,e.t0=e.catch(2),Object(s.a)(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),getCategoryList:function(){var e=Object(c.a)(n.a.mark((function e(){var t,a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(i.a,"/categories/getCategoryList"),e.prev=1,e.next=4,o()(t,Object.assign({},d({methodType:"GET"})));case 4:return a=e.sent,r=a.data,e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(1),Object(s.a)(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),getProductList:function(){var e=Object(c.a)(n.a.mark((function e(t){var a,r,c,u;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign({},t),r="".concat(i.a,"/categories/getProductList"),e.prev=2,e.next=5,o()(r,Object.assign({},d({methodType:"POST"}),{data:a}));case 5:return c=e.sent,u=c.data,e.abrupt("return",u);case 10:throw e.prev=10,e.t0=e.catch(2),Object(s.a)(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),addNewCategory:function(){var e=Object(c.a)(n.a.mark((function e(t){var a,r,c,u;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign({},t),r="".concat(i.a,"/categories/addNewCategory"),e.prev=2,e.next=5,o()(r,Object.assign({},d({methodType:"POST"}),{data:a}));case 5:return c=e.sent,u=c.data,e.abrupt("return",u);case 10:throw e.prev=10,e.t0=e.catch(2),Object(s.a)(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),addNewSubCategory:function(){var e=Object(c.a)(n.a.mark((function e(t){var a,r,c,u;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign({},t),r="".concat(i.a,"/categories/addNewSubCategory"),e.prev=2,e.next=5,o()(r,Object.assign({},d({methodType:"POST"}),{data:a}));case 5:return c=e.sent,u=c.data,e.abrupt("return",u);case 10:throw e.prev=10,e.t0=e.catch(2),Object(s.a)(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),getProductUnderMainCategory:function(){var e=Object(c.a)(n.a.mark((function e(t){var a,r,c,u;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign({},t),r="".concat(i.a,"/categories/getProductUnderMainCategory"),e.prev=2,e.next=5,o()(r,Object.assign({},d({methodType:"POST"}),{data:a}));case 5:return c=e.sent,u=c.data,e.abrupt("return",u);case 10:throw e.prev=10,e.t0=e.catch(2),Object(s.a)(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),getMainCategoryList:function(){var e=Object(c.a)(n.a.mark((function e(){var t,a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(i.a,"/categories/getMainCategoryList"),e.prev=1,e.next=4,o()(t,Object.assign({},d({methodType:"GET"})));case 4:return a=e.sent,r=a.data,e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(1),Object(s.a)(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),getMiddleCategoryList:function(){var e=Object(c.a)(n.a.mark((function e(t){var a,r,c,u;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign({},t),r="".concat(i.a,"/categories/getMiddleCategoryList"),e.prev=2,e.next=5,o()(r,Object.assign({},d({methodType:"POST"}),{data:a}));case 5:return c=e.sent,u=c.data,e.abrupt("return",u);case 10:throw e.prev=10,e.t0=e.catch(2),Object(s.a)(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),getSubCategoryList:function(){var e=Object(c.a)(n.a.mark((function e(t){var a,r,c,u;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign({},t),r="".concat(i.a,"/categories/getSubCategoryList"),e.prev=2,e.next=5,o()(r,Object.assign({},d({methodType:"POST"}),{data:a}));case 5:return c=e.sent,u=c.data,e.abrupt("return",u);case 10:throw e.prev=10,e.t0=e.catch(2),Object(s.a)(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),insertNewProduct:function(){var e=Object(c.a)(n.a.mark((function e(t){var a,r,c,u;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign({},t),r="".concat(i.a,"/categories/insertNewProduct"),e.prev=2,e.next=5,o()(r,Object.assign({},d({methodType:"POST"}),{data:a}));case 5:return c=e.sent,u=c.data,e.abrupt("return",u);case 10:throw e.prev=10,e.t0=e.catch(2),Object(s.a)(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()}},77:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var r=a(2),n=a.n(r),c=a(3),u=a(0),o=a.n(u),i=a(79),s=a(80),l=a(73);function d(e){var t=e.open,a=e.setCategoryDialogOpen,r=e.setCategoryList,u=e.setSubCategory,d=e.setDefaultCategoryId,p=e.setDefaultSubCategoryId,m=e.props,v=function(){var e=Object(c.a)(n.a.mark((function e(t){var c,o,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),c=document.getElementById("category_name").value,e.prev=2,1!==m.type||"add"!==m.operation){e.next=11;break}return e.next=6,l.a.addNewCategory({category_name:c});case 6:o=e.sent,r(o.categoryList),d(o.newCategoryId),e.next=17;break;case 11:if(2!==m.type||"add"!==m.operation){e.next=17;break}return e.next=14,l.a.addNewSubCategory({category_name:c,categoryId:m.id});case 14:i=e.sent,u(i.subCategoriesList),p(i.newSubCategoryId);case 17:a(!1),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(2),console.log("error...",e.t0);case 23:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement(i.a,{show:t,onHide:function(){a(!1)},size:"lg",centered:!0},o.a.createElement(i.a.Header,{closeButton:!0},o.a.createElement(i.a.Title,{id:"contained-modal-title-vcenter"},1===m.type&&"add"===m.operation?"Create Category":2===m.type&&"add"===m.operation?"Create Sub Category":"")),o.a.createElement("form",{onSubmit:v},o.a.createElement(i.a.Body,null,o.a.createElement("div",{class:"col-md-12"},o.a.createElement("div",{class:"form-group"},o.a.createElement("label",{for:"category_name"},1===m.type?"Category *":2===m.type?"Sub Category *":""),o.a.createElement("input",{id:"category_name",type:"text",class:"form-control",placeholder:"",required:!0})))),o.a.createElement(i.a.Footer,null,o.a.createElement(s.a,{className:"br-none",onClick:function(){a(!1)}},"Close"),o.a.createElement(s.a,{type:"submit",className:"br-none"},"Submit"))))}},92:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return v}));var r=a(2),n=a.n(r),c=a(3),u=a(12),o=a(0),i=a.n(o),s=(a(73),a(1)),l=(a(25),a(18)),d=a(22),p=a(23),m=(a(77),a(11));function v(e){var t=s.b.get().userId,a=Object(o.useState)(e.location.state),r=Object(u.a)(a,2),v=r[0],b=(r[1],Object(o.useState)([])),f=Object(u.a)(b,2),y=f[0],g=f[1],h=Object(o.useState)([]),E=Object(u.a)(h,2);E[0],E[1];Object(o.useEffect)((function(){O()}),[]);var O=function(){var e=Object(c.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.fetchDeliveryFormData({orderId:v.id,order_date:Object(m.a)(v.order_date)});case 3:(t=e.sent).deliveryFormData.length>0?g(t.deliveryFormData):0===t.deliveryFormData.length&&(alert("Product not available in stock !"),window.location.pathname="/view-ordered-product"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error...",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),w=function(e){var t=e.target.name.split("-")[1],a=e.target.value,r=y.find((function(e){return e.id==t})),n=null!==r.paid_quantity&&void 0!==r.paid_quantity&&""!==r.paid_quantity?Number(r.purchased_quantity-r.paid_quantity).toFixed(3):Number(r.purchased_quantity).toFixed(3);if(Number(n)<Number(a))document.getElementById("provideQuantity-"+t).value="",alert("input quantity is out of stock");else{var c=r.cost/r.purchased_quantity*a;document.getElementById("productPrice-"+t).textContent=Number(c).toFixed(2)}},j=function(){var e=Object(c.a)(n.a.mark((function e(a){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,r=[],y.map((function(e,a){r.push({ordered_id:e.id,product_id:e.product_id,delivery_date:Object(m.a)(new Date),order_date:Object(m.a)(v.order_date),paid_quantity:document.getElementById("provideQuantity-"+e.id).value,unit_id:e.purchased_unit_id,price:document.getElementById("productPrice-"+e.id).textContent,created_by:t})})),e.next=6,l.a.submitDeliveryDetails({productData:r,orderId:v.id});case 6:!0===e.sent?window.location.pathname="/view-order-list":alert("Failed Insertion"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("Error...",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement(o.Fragment,null,i.a.createElement(d.a,null),i.a.createElement("section",{class:"ftco-section"},i.a.createElement("div",{class:"container"},i.a.createElement("div",{class:"row justify-content-center"},i.a.createElement("div",{class:"col-xl-12 ftco-animate fadeInUp ftco-animated"},i.a.createElement("h3",{class:"mb-4 billing-heading"},"Delivery Form"),i.a.createElement("form",{onSubmit:j,class:"p-5 bg-light b-top-dark"},i.a.createElement("div",{class:"row align-items-end"},i.a.createElement("div",{class:"col-md-4"},i.a.createElement("div",{class:"form-group"},i.a.createElement("label",null,"Order Id: "),i.a.createElement("div",{class:"d-flex"},i.a.createElement("h6",null,v.order_id)))),i.a.createElement("div",{class:"col-md-4"},i.a.createElement("div",{class:"form-group"},i.a.createElement("label",null,"Order Date: "),i.a.createElement("div",{class:"d-flex"},i.a.createElement("h6",null,Object(m.b)(v.order_date))))),i.a.createElement("div",{class:"col-md-4"},i.a.createElement("div",{class:"form-group"},i.a.createElement("label",null,"Mobile No.: "),i.a.createElement("div",{class:"d-flex"},i.a.createElement("h6",null,v.mobile)))),i.a.createElement("div",{class:"col-md-4"},i.a.createElement("div",{class:"form-group"},i.a.createElement("label",null,"Customer Name: "),i.a.createElement("div",{class:"d-flex"},i.a.createElement("h6",null,v.full_name)))),i.a.createElement("div",{class:"col-md-8"},i.a.createElement("div",{class:"form-group"},i.a.createElement("label",null,"Address: "),i.a.createElement("div",{class:"d-flex"},i.a.createElement("h6",null,v.flat_add+", "+v.street_add+", "+v.city+", "+v.state+" - "+v.pincode)))),i.a.createElement("div",{class:"col-md-12"}," ",i.a.createElement("hr",null)," "),i.a.createElement("div",{class:"col-md-12"},i.a.createElement("h5",null,"Product List")),i.a.createElement("table",{className:"unit-array-table table-min-width"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Product"),i.a.createElement("th",null,"Demand"),i.a.createElement("th",null,"Available in Stock"),i.a.createElement("th",null,"Given Quantity"),i.a.createElement("th",null,"Price"))),i.a.createElement("tbody",null,(y.length>0?y:[]).map((function(e,t){return i.a.createElement("tr",null,i.a.createElement("td",null,e.product_name),i.a.createElement("td",null,e.quantity+" "+e.ordered_unit_name),i.a.createElement("td",null,null!==e.paid_quantity&&void 0!==e.paid_quantity&&""!==e.paid_quantity?Number(e.purchased_quantity-e.paid_quantity).toFixed(3)+" "+e.purchased_unit_name:Number(e.purchased_quantity).toFixed(3)+" "+e.purchased_unit_name),i.a.createElement("td",null,i.a.createElement("div",{class:"d-flex justify-content-center"},i.a.createElement("input",{type:"number",name:"provideQuantity-"+e.id,class:"cost-input",id:"provideQuantity-"+e.id,min:"0",step:"0.01",onChange:w,required:!0}),i.a.createElement("p",{class:"cost-input-adoptment"}," ",e.purchased_unit_name," "))),i.a.createElement("td",null,i.a.createElement("p",{id:"productPrice-"+e.id})))})))),i.a.createElement("div",{class:"form-group p-4"},i.a.createElement("input",{type:"submit",value:"Submit",class:"btn  px-4 btn-primary"})))))))),i.a.createElement(p.a,null))}}}]);
//# sourceMappingURL=6.0ae81562.chunk.js.map