(this.webpackJsonpsa_supermart=this.webpackJsonpsa_supermart||[]).push([[35],{171:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(43),r=a(31),c=a.n(r),i=a(32),s=a(35),o=a(0),l=a.n(o),u=a(67),m=a(40),d=a(36),p=a(37),v=a(38),b=a(58);function f(e){var t=e.location.state.invoice,a=Object(o.useState)(Object(u.isNullOrUndefined)(t)?{}:t),r=Object(s.a)(a,2),f=r[0],h=(r[1],Object(o.useState)(!1)),E=Object(s.a)(h,2),O=E[0],j=E[1],y=Object(o.useState)(!1),w=Object(s.a)(y,2),g=w[0],_=w[1],x=Object(o.useState)([]),T=Object(s.a)(x,2),I=T[0],q=T[1],S=Object(o.useState)({}),k=Object(s.a)(S,2),R=k[0],C=k[1];Object(o.useEffect)((function(){f&&U()}),[]);var U=function(){var e=Object(i.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,b.a.getItemsToHandleRequest({invoice_id:f.invoice_id,invoice_version_id:f.invoice_version_id});case 4:a=e.sent,q(a.itemList),C(a.comment[0]),j(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),N=function(e){var t=e.target.name.split("-")[0],a=Number(e.target.name.split("-")[1]),r=Number(e.target.name.split("-")[2]),c=e.target.value,i=Object(n.a)(I);i.map((function(e){e.item_id===a&&e.unit_id===r&&("newQuantity"===t?e.new_quantity=c:"newCost"===t&&(e.new_total_amt=c))})),q(i)},P=function(){window.history.back()},A=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),_(!0),e.prev=2,e.next=5,b.a.handleReqestRejection({invoice_id:f.invoice_id,invoice_version_id:f.invoice_version_id,comment_id:R.id});case 5:e.sent,j(!1),_(!1),P(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log("Error...",e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),j(!0),_(!0),e.prev=3,e.next=6,b.a.handleInvoiceToAcceptRequest({itemList:I,invoice_version_id:f.invoice_version_id,invoice_id:f.invoice_id,invoice_billing_id:f.invoice_billing_id});case 6:e.sent,j(!1),_(!1),P(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log("Error...",e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement(o.Fragment,null,l.a.createElement(p.a,null),l.a.createElement("section",{class:"ftco-section"},l.a.createElement("div",{class:"container"},l.a.createElement("div",{class:"row justify-content-center"},l.a.createElement("div",{class:"col-xl-12 ftco-animate fadeInUp ftco-animated"},l.a.createElement("h3",{class:"mb-4 billing-heading"},"Invoice Update Request Form"),l.a.createElement("form",{onSubmit:W,class:"p-5 bg-light b-top-dark"},l.a.createElement("div",{class:"row align-items-end"},l.a.createElement("div",{class:"col-md-4"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Order Id: "),l.a.createElement("div",{class:"d-flex"},l.a.createElement("h6",null,f.order_id)))),l.a.createElement("div",{class:"col-md-4"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Invoice No.:"),l.a.createElement("div",{class:"d-flex"},l.a.createElement("h6",null,f.invoice_no)))),l.a.createElement("div",{class:"col-md-4"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Invoice Total: "),l.a.createElement("div",{class:"d-flex"},l.a.createElement("h6",null,Number(f.invoice_total).toFixed(2))))),l.a.createElement("div",{class:"col-md-4"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Invoice Date: "),l.a.createElement("div",{class:"d-flex"},l.a.createElement("h6",null,Object(m.c)(f.invoice_date))))),l.a.createElement("div",{class:"col-md-8"},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",null,"Status: "),l.a.createElement("div",{class:"d-flex"},l.a.createElement("h6",null,f.status_name)))),l.a.createElement("div",{class:"col-md-12"}," ",l.a.createElement("hr",null)," "),l.a.createElement("div",{class:"col-md-12"},l.a.createElement("div",{class:"form-group"},l.a.createElement("h5",null,"Comment: "),l.a.createElement("textarea",{value:R.comment,cols:"30",rows:"5",class:"form-control",required:!0,disabled:!0}))),l.a.createElement("div",{class:"col-md-12"}," ",l.a.createElement("hr",null)," "),l.a.createElement("div",{class:"col-md-12"},l.a.createElement("h5",null,"Invoice Items")),l.a.createElement("div",{class:"w-100 table-div"},l.a.createElement("table",{className:"table table-td"},l.a.createElement("thead",{className:"thead-primary-border"},l.a.createElement("tr",{className:"text-center"},l.a.createElement("th",{style:{minWidth:"60px"},rowSpan:2},"#"),l.a.createElement("th",{style:{minWidth:"200px"},rowSpan:2},"Item"),l.a.createElement("th",{colSpan:2},"Current Value"),l.a.createElement("th",{colSpan:2},"Request to Update"),l.a.createElement("th",{style:{minWidth:"200px"},rowSpan:2}," Comment")),l.a.createElement("tr",{className:"text-center"},l.a.createElement("th",{style:{minWidth:"120px"}},"Quantity"),l.a.createElement("th",{style:{minWidth:"130px"}},"Total Amount"),l.a.createElement("th",{style:{minWidth:"200px"}},"Quantity"),l.a.createElement("th",{style:{minWidth:"200px"}},"Cost"))),l.a.createElement("tbody",null,(I.length>0?I:[]).map((function(e,t){return l.a.createElement("tr",{style:1===e.is_requested?{backgroundColor:"palegoldenrod"}:{}},l.a.createElement("td",null,t+1),l.a.createElement("td",null,e.item_name),l.a.createElement("td",null,e.quantity+" "+e.unit_name),l.a.createElement("td",null,"$",Number(e.total_amt).toFixed(2)),l.a.createElement("td",null,l.a.createElement("div",{class:"d-flex justify-content-center"},l.a.createElement("input",{type:"number",name:"newQuantity-"+e.item_id+"-"+e.unit_id,class:"cost-input",id:"newQuantity-"+e.item_id+"-"+e.unit_id,value:e.new_quantity,min:"0",step:"0.1",onChange:N,required:!0}),l.a.createElement("p",{class:"cost-input-adoptment"}," ",e.unit_name," "))),l.a.createElement("td",null,l.a.createElement("div",{class:"d-flex justify-content-center"},l.a.createElement("p",{class:"cost-input-adoptment"}," $ "),l.a.createElement("input",{type:"number",name:"newCost-"+e.item_id+"-"+e.unit_id,class:"cost-input",id:"newCost-"+e.item_id+"-"+e.unit_id,value:e.new_total_amt,min:"0",step:"0.1",onChange:N,required:!0}))),l.a.createElement("td",null,l.a.createElement("textarea",{type:"text",rows:2,name:"comment-"+e.item_id+"-"+e.unit_id,id:"comment-"+e.item_id+"-"+e.unit_id,value:e.comment,disabled:!0,required:!0})))}))))),l.a.createElement("div",{class:"form-group p-4"},l.a.createElement("button",{class:"btn  px-4 btn-primary",type:"submit",disabled:!0===g}," ","Accept & Update Invoice"," "),"\xa0\xa0\xa0",l.a.createElement("button",{class:"btn  px-4 btn-primary",type:"button",disabled:!0===g,onClick:A}," Reject Request "),"\xa0\xa0\xa0",l.a.createElement("button",{class:"btn  px-4 btn-primary",type:"button",onClick:P}," Cancel ")))))))),l.a.createElement(v.a,null),O?l.a.createElement(d.a,null):null)}},43:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(51);var r=a(50);function c(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},58:function(e,t,a){"use strict";var n=a(31),r=a.n(n),c=a(32),i=a(39),s=a.n(i),o=a(1),l=a(33),u=a(34),m=function(e){var t=e.methodType;return{method:void 0===t?"GET":t,headers:Object(u.a)()}};t.a={getInvoiceList:function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign({},t),n="".concat(o.a,"/invoices/getInvoiceList"),e.prev=2,e.next=5,s()(n,Object.assign({},m({methodType:"POST"}),{data:a}));case 5:return c=e.sent,i=c.data,e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(2),Object(l.a)(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),getItemsForUpdateRequest:function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign({},t),n="".concat(o.a,"/invoices/getItemsForUpdateRequest"),e.prev=2,e.next=5,s()(n,Object.assign({},m({methodType:"POST"}),{data:a}));case 5:return c=e.sent,i=c.data,e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(2),Object(l.a)(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),getItemsToHandleRequest:function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign({},t),n="".concat(o.a,"/invoices/getItemsToHandleRequest"),e.prev=2,e.next=5,s()(n,Object.assign({},m({methodType:"POST"}),{data:a}));case 5:return c=e.sent,i=c.data,e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(2),Object(l.a)(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),postItemUpdateRequest:function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign({},t),n="".concat(o.a,"/invoices/postItemUpdateRequest"),e.prev=2,e.next=5,s()(n,Object.assign({},m({methodType:"POST"}),{data:a}));case 5:return c=e.sent,i=c.data,e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(2),Object(l.a)(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),postInvoiceUpdateRequest:function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign({},t),n="".concat(o.a,"/invoices/postInvoiceUpdateRequest"),e.prev=2,e.next=5,s()(n,Object.assign({},m({methodType:"POST"}),{data:a}));case 5:return c=e.sent,i=c.data,e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(2),Object(l.a)(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),payInvoiceBill:function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign({},t),n="".concat(o.a,"/invoices/payInvoiceBill"),e.prev=2,e.next=5,s()(n,Object.assign({},m({methodType:"POST"}),{data:a}));case 5:return c=e.sent,i=c.data,e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(2),Object(l.a)(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),getTransactionDetails:function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign({},t),n="".concat(o.a,"/invoices/getTransactionDetails"),e.prev=2,e.next=5,s()(n,Object.assign({},m({methodType:"POST"}),{data:a}));case 5:return c=e.sent,i=c.data,e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(2),Object(l.a)(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),handleReqestRejection:function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign({},t),n="".concat(o.a,"/invoices/handleReqestRejection"),e.prev=2,e.next=5,s()(n,Object.assign({},m({methodType:"POST"}),{data:a}));case 5:return c=e.sent,i=c.data,e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(2),Object(l.a)(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),handleInvoiceToAcceptRequest:function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign({},t),n="".concat(o.a,"/invoices/handleInvoiceToAcceptRequest"),e.prev=2,e.next=5,s()(n,Object.assign({},m({methodType:"POST"}),{data:a}));case 5:return c=e.sent,i=c.data,e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(2),Object(l.a)(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),downloadOrderInvoiceVersion:function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign({},t),n="".concat(o.a,"/invoices/downloadOrderInvoiceVersion"),e.prev=2,e.next=5,s()(n,Object.assign({},m({methodType:"POST"}),{data:a}));case 5:return c=e.sent,i=c.data,e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(2),Object(l.a)(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=35.43b746da.chunk.js.map