(this.webpackJsonpsa_supermart=this.webpackJsonpsa_supermart||[]).push([[36],{168:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var n=a(43),c=a(31),r=a.n(c),i=a(32),s=a(35),l=a(0),o=a.n(l),u=a(67),m=a(40),d=a(36),p=a(37),v=a(38),b=a(58);function h(e){var t=e.location.state.invoice,a=Object(l.useState)(Object(u.isNullOrUndefined)(t)?{}:t),c=Object(s.a)(a,2),h=c[0],f=(c[1],Object(l.useState)(!1)),E=Object(s.a)(f,2),y=E[0],O=E[1],g=Object(l.useState)(!1),j=Object(s.a)(g,2),w=j[0],_=j[1],x=Object(l.useState)([]),k=Object(s.a)(x,2),I=k[0],S=k[1],T=Object(l.useState)(!1),q=Object(s.a)(T,2),C=q[0],R=q[1],N=Object(l.useState)(""),U=Object(s.a)(N,2),W=U[0],P=U[1];Object(l.useEffect)((function(){h&&B()}),[]);var B=function(){var e=Object(i.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),_(!0),e.prev=2,e.next=5,b.a.getItemsForUpdateRequest({invoice_id:h.invoice_id,invoice_version_id:h.invoice_version_id});case 5:a=e.sent,S(a.itemList),O(!1),_(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),D=function(e){var t=e.target.name.split("-")[0],a=Number(e.target.name.split("-")[1]),c=Number(e.target.name.split("-")[2]),r=e.target.value,i=document.getElementById("newQuantity-".concat(a,"-").concat(c)).value,s=document.getElementById("newCost-".concat(a,"-").concat(c)).value,l=document.getElementById("comment-".concat(a,"-").concat(c)).value,o=Object(n.a)(I);o.map((function(n){n.item_id===a&&n.unit_id===c&&(Number(i)!==n.new_quantity_clone||Number(s)!==n.new_total_amt_clone||l!==n.comment_clone?n.is_requested=1:n.is_requested=0,"newQuantity"===t?n.new_quantity=r:"newCost"===t?n.new_total_amt=r:"comment"===t?n.comment=r:"isDisable"===t&&(!0===e.target.checked?n.is_disable=0:n.is_disable=1))})),S(o)},F=function(e){R(e.target.checked);var t=Object(n.a)(I);t.map((function(t){!0===e.target.checked?t.is_disable=0:t.is_disable=1})),S(t)},A=function(){var e=Object(i.a)(r.a.mark((function e(t){var a,n,c,i,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(!0),_(!0),e.prev=2,a=Number(t.item_id),n=Number(t.unit_id),c=document.getElementById("newQuantity-".concat(a,"-").concat(n)),i=document.getElementById("newCost-".concat(a,"-").concat(n)),s=document.getElementById("comment-".concat(a,"-").concat(n)),!(c.checkValidity()&&i.checkValidity()&&s.checkValidity())){e.next=15;break}return e.next=11,b.a.postItemUpdateRequest({itemData:t});case 11:e.sent,D({target:{name:"isDisable-".concat(t.item_id,"-").concat(t.unit_id),checked:!1,value:""}}),e.next=16;break;case 15:alert("Fill all the fields.");case 16:O(!1),_(!1),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(2),console.log("Error...",e.t0);case 23:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){window.history.back()},V=function(){var e=Object(i.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),O(!0),_(!0),e.prev=3,a=[],(I.length>0?I:[]).map((function(e){1===e.is_requested&&a.push(e)})),e.next=8,b.a.postInvoiceUpdateRequest({itemList:a,commonComment:W,invoice_version_id:I[0].invoice_version_id});case 8:e.sent,O(!1),_(!1),Q(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.log("Error...",e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement(l.Fragment,null,o.a.createElement(p.a,null),o.a.createElement("section",{class:"ftco-section"},o.a.createElement("div",{class:"container"},o.a.createElement("div",{class:"row justify-content-center"},o.a.createElement("div",{class:"col-xl-12 ftco-animate fadeInUp ftco-animated"},o.a.createElement("h3",{class:"mb-4 billing-heading"},"Invoice Update Request Form"),o.a.createElement("form",{onSubmit:V,class:"p-5 bg-light b-top-dark"},o.a.createElement("div",{class:"row align-items-end"},o.a.createElement("div",{class:"col-md-4"},o.a.createElement("div",{class:"form-group"},o.a.createElement("label",null,"Order Id: "),o.a.createElement("div",{class:"d-flex"},o.a.createElement("h6",null,h.order_id)))),o.a.createElement("div",{class:"col-md-4"},o.a.createElement("div",{class:"form-group"},o.a.createElement("label",null,"Invoice No.:"),o.a.createElement("div",{class:"d-flex"},o.a.createElement("h6",null,h.invoice_no)))),o.a.createElement("div",{class:"col-md-4"},o.a.createElement("div",{class:"form-group"},o.a.createElement("label",null,"Invoice Total: "),o.a.createElement("div",{class:"d-flex"},o.a.createElement("h6",null,Number(h.invoice_total).toFixed(2))))),o.a.createElement("div",{class:"col-md-4"},o.a.createElement("div",{class:"form-group"},o.a.createElement("label",null,"Invoice Date: "),o.a.createElement("div",{class:"d-flex"},o.a.createElement("h6",null,Object(m.c)(h.invoice_date))))),o.a.createElement("div",{class:"col-md-8"},o.a.createElement("div",{class:"form-group"},o.a.createElement("label",null,"Status: "),o.a.createElement("div",{class:"d-flex"},o.a.createElement("h6",null,h.status_name)))),o.a.createElement("div",{class:"col-md-12"}," ",o.a.createElement("hr",null)," "),o.a.createElement("div",{class:"col-md-12"},o.a.createElement("h5",null,"Invoice Items")),o.a.createElement("div",{class:"w-100 table-div"},o.a.createElement("table",{className:"table table-td"},o.a.createElement("thead",{className:"thead-primary-border"},o.a.createElement("tr",{className:"text-center"},o.a.createElement("th",{style:{minWidth:"60px"},rowSpan:2},"#"),o.a.createElement("th",{style:{minWidth:"50px"},rowSpan:2},o.a.createElement("input",{type:"checkbox",onChange:F,checked:C})),o.a.createElement("th",{style:{minWidth:"200px"},rowSpan:2},"Item"),o.a.createElement("th",{colSpan:2},"Current Value"),o.a.createElement("th",{colSpan:2},"Want to change"),o.a.createElement("th",{style:{minWidth:"200px"},rowSpan:2}," Comment"),o.a.createElement("th",{style:{minWidth:"130px"},rowSpan:2}," Action")),o.a.createElement("tr",{className:"text-center"},o.a.createElement("th",{style:{minWidth:"120px"}},"Quantity"),o.a.createElement("th",{style:{minWidth:"130px"}},"Total Amount"),o.a.createElement("th",{style:{minWidth:"200px"}},"Quantity"),o.a.createElement("th",{style:{minWidth:"200px"}},"Cost"))),o.a.createElement("tbody",null,(I.length>0?I:[]).map((function(e,t){return o.a.createElement("tr",null,o.a.createElement("td",null,t+1),o.a.createElement("td",null,o.a.createElement("input",{name:"isDisable-"+e.item_id+"-"+e.unit_id,checked:!e.is_disable,type:"checkbox",onChange:D})),o.a.createElement("td",null,e.item_name),o.a.createElement("td",null,e.quantity+" "+e.unit_name),o.a.createElement("td",null,"$",Number(e.total_amt).toFixed(2)),o.a.createElement("td",null,o.a.createElement("div",{class:"d-flex justify-content-center"},o.a.createElement("input",{type:"number",name:"newQuantity-"+e.item_id+"-"+e.unit_id,class:"cost-input",id:"newQuantity-"+e.item_id+"-"+e.unit_id,value:e.new_quantity,min:"0",step:"0.1",onChange:D,disabled:1===e.is_disable,required:!0}),o.a.createElement("p",{class:"cost-input-adoptment"}," ",e.unit_name," "))),o.a.createElement("td",null,o.a.createElement("div",{class:"d-flex justify-content-center"},o.a.createElement("p",{class:"cost-input-adoptment"}," $ "),o.a.createElement("input",{type:"number",name:"newCost-"+e.item_id+"-"+e.unit_id,class:"cost-input",id:"newCost-"+e.item_id+"-"+e.unit_id,value:e.new_total_amt,min:"0",step:"0.1",onChange:D,disabled:1===e.is_disable,required:!0}))),o.a.createElement("td",null,o.a.createElement("textarea",{type:"text",rows:2,name:"comment-"+e.item_id+"-"+e.unit_id,id:"comment-"+e.item_id+"-"+e.unit_id,value:e.comment,onChange:D,disabled:1===e.is_disable,required:!0})),o.a.createElement("td",null,o.a.createElement("button",{class:"alter-purchase-record",style:1===e.is_disable?{cursor:"auto"}:{},type:"button",disabled:1===e.is_disable,onClick:function(){A(e)}}," Save Request ")))})),o.a.createElement("tr",null,o.a.createElement("td",{style:{minWidth:"60px"}}),o.a.createElement("td",{style:{minWidth:"50px"}},o.a.createElement("input",{type:"checkbox",onChange:F,checked:C})),o.a.createElement("td",{colSpan:8}))))),o.a.createElement("div",{class:"col-md-12"},o.a.createElement("div",{class:"form-group"},o.a.createElement("br",null),o.a.createElement("h5",null,"Common Comment*"),o.a.createElement("textarea",{value:W,onChange:function(e){P(e.target.value)},cols:"30",rows:"10",class:"form-control",required:!0}))),o.a.createElement("div",{class:"form-group p-4"},o.a.createElement("button",{class:"btn  px-4 btn-primary",type:"submit",disabled:!0===w}," Send Request "),"\xa0\xa0\xa0",o.a.createElement("button",{class:"btn  px-4 btn-primary",type:"button",onClick:Q}," Cancel ")))))))),o.a.createElement(v.a,null),y?o.a.createElement(d.a,null):null)}},43:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(51);var c=a(50);function r(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(c.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},58:function(e,t,a){"use strict";var n=a(31),c=a.n(n),r=a(32),i=a(39),s=a.n(i),l=a(1),o=a(33),u=a(34),m=function(e){var t=e.methodType;return{method:void 0===t?"GET":t,headers:Object(u.a)()}};t.a={getInvoiceList:function(){var e=Object(r.a)(c.a.mark((function e(t){var a,n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign({},t),n="".concat(l.a,"/invoices/getInvoiceList"),e.prev=2,e.next=5,s()(n,Object.assign({},m({methodType:"POST"}),{data:a}));case 5:return r=e.sent,i=r.data,e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(2),Object(o.a)(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),getItemsForUpdateRequest:function(){var e=Object(r.a)(c.a.mark((function e(t){var a,n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign({},t),n="".concat(l.a,"/invoices/getItemsForUpdateRequest"),e.prev=2,e.next=5,s()(n,Object.assign({},m({methodType:"POST"}),{data:a}));case 5:return r=e.sent,i=r.data,e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(2),Object(o.a)(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),getItemsToHandleRequest:function(){var e=Object(r.a)(c.a.mark((function e(t){var a,n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign({},t),n="".concat(l.a,"/invoices/getItemsToHandleRequest"),e.prev=2,e.next=5,s()(n,Object.assign({},m({methodType:"POST"}),{data:a}));case 5:return r=e.sent,i=r.data,e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(2),Object(o.a)(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),postItemUpdateRequest:function(){var e=Object(r.a)(c.a.mark((function e(t){var a,n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign({},t),n="".concat(l.a,"/invoices/postItemUpdateRequest"),e.prev=2,e.next=5,s()(n,Object.assign({},m({methodType:"POST"}),{data:a}));case 5:return r=e.sent,i=r.data,e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(2),Object(o.a)(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),postInvoiceUpdateRequest:function(){var e=Object(r.a)(c.a.mark((function e(t){var a,n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign({},t),n="".concat(l.a,"/invoices/postInvoiceUpdateRequest"),e.prev=2,e.next=5,s()(n,Object.assign({},m({methodType:"POST"}),{data:a}));case 5:return r=e.sent,i=r.data,e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(2),Object(o.a)(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),payInvoiceBill:function(){var e=Object(r.a)(c.a.mark((function e(t){var a,n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign({},t),n="".concat(l.a,"/invoices/payInvoiceBill"),e.prev=2,e.next=5,s()(n,Object.assign({},m({methodType:"POST"}),{data:a}));case 5:return r=e.sent,i=r.data,e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(2),Object(o.a)(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),getTransactionDetails:function(){var e=Object(r.a)(c.a.mark((function e(t){var a,n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign({},t),n="".concat(l.a,"/invoices/getTransactionDetails"),e.prev=2,e.next=5,s()(n,Object.assign({},m({methodType:"POST"}),{data:a}));case 5:return r=e.sent,i=r.data,e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(2),Object(o.a)(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),handleReqestRejection:function(){var e=Object(r.a)(c.a.mark((function e(t){var a,n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign({},t),n="".concat(l.a,"/invoices/handleReqestRejection"),e.prev=2,e.next=5,s()(n,Object.assign({},m({methodType:"POST"}),{data:a}));case 5:return r=e.sent,i=r.data,e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(2),Object(o.a)(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),handleInvoiceToAcceptRequest:function(){var e=Object(r.a)(c.a.mark((function e(t){var a,n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign({},t),n="".concat(l.a,"/invoices/handleInvoiceToAcceptRequest"),e.prev=2,e.next=5,s()(n,Object.assign({},m({methodType:"POST"}),{data:a}));case 5:return r=e.sent,i=r.data,e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(2),Object(o.a)(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),downloadOrderInvoiceVersion:function(){var e=Object(r.a)(c.a.mark((function e(t){var a,n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign({},t),n="".concat(l.a,"/invoices/downloadOrderInvoiceVersion"),e.prev=2,e.next=5,s()(n,Object.assign({},m({methodType:"POST"}),{data:a}));case 5:return r=e.sent,i=r.data,e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(2),Object(o.a)(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=36.4339064f.chunk.js.map