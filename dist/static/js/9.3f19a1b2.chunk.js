(this.webpackJsonpnew=this.webpackJsonpnew||[]).push([[9],{104:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return v}));var n=a(28),r=a(1),c=a.n(r),l=a(4),o=a(9),u=a(0),i=a.n(u),d=a(20),s=a(2),m=a(27),p=a(30),f=a(31),E=a(54);function v(e){var t=Object(u.useState)([]),a=Object(o.a)(t,2),r=a[0],v=a[1],g=Object(u.useState)([]),b=Object(o.a)(g,2),y=b[0],h=b[1],I=Object(u.useState)([]),k=Object(o.a)(I,2),j=k[0],O=k[1],w=Object(u.useState)([]),x=Object(o.a)(w,2),U=x[0],S=x[1],D=Object(u.useState)([]),B=Object(o.a)(D,2),C=B[0],N=B[1],_=Object(u.useState)(!1),P=Object(o.a)(_,2),V=P[0],L=P[1],q=Object(u.useState)({}),W=Object(o.a)(q,2),M=W[0],A=W[1],F=Object(u.useState)(""),J=Object(o.a)(F,2),R=J[0],$=J[1],z=Object(u.useState)(""),G=Object(o.a)(z,2),H=G[0],K=G[1],Q=Object(u.useState)(0),T=Object(o.a)(Q,2),X=T[0],Y=T[1],Z=Object(u.useState)([]),ee=Object(o.a)(Z,2),te=ee[0],ae=ee[1];Object(u.useEffect)((function(){re(),ne()}),[]);var ne=function(){var e=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.getProductUnitList();case 3:t=e.sent,O(t.productUnitList),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error...",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.getCategoryList();case 3:t=e.sent,h(t.categoryList),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error...",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ce=function(e){2===e&&""===document.getElementById("categoryDropDown").value?alert("Select Category !"):(A({type:e,operation:"add",id:document.getElementById("categoryDropDown").value}),L(!0))},le=function(){var e=Object(l.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===(t=document.getElementById("categoryDropDown").value)||void 0===t||null===t){e.next=12;break}return e.prev=2,e.next=5,d.a.getSubCategoryList({categoryId:t});case 5:a=e.sent,v(a.subCategoriesList),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("Error...",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n,r,l,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.target.value){e.next=5;break}S([]),N([]),e.next=20;break;case 5:return a=t.target.value,n=j.find((function(e){return e.id==t.target.value})),r=n.is_bundle,e.prev=8,e.next=11,m.a.getMainUnitRelateRecords({id:a,is_bundle:r});case 11:l=e.sent,S(l.productUnitList),o=l.productUnitList.filter((function(e){return 0==e.is_bundle})),N(o),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(8),console.log(e.t0);case 20:ae([]);case 21:case"end":return e.stop()}}),e,null,[[8,17]])})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var t=Object(l.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),t.prev=1,"mainForm"!==a.target.name){t.next=12;break}if(!(te.length>0)){t.next=11;break}return n={categoryId:document.getElementById("categoryDropDown").value,subCategoryId:document.getElementById("subCategoryDropDown").value,productName:document.getElementById("productName").value,description:document.getElementById("productDescription").value,createdBy:s.b.get().userId,productUnits:te,mainUnitId:document.getElementById("productMainUnit").value},t.next=7,d.a.insertNewProduct(n);case 7:!0===t.sent?e.history.push("/"):alert("Failed Insertion"),t.next=12;break;case 11:alert("Add atleast one unit for product..");case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),console.log("Error...",t.t0);case 17:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}();return i.a.createElement(u.Fragment,null,i.a.createElement(p.a,null),i.a.createElement("section",{class:"ftco-section"},i.a.createElement("div",{class:"container"},i.a.createElement("div",{class:"row justify-content-center"},i.a.createElement("div",{class:"col-xl-12 ftco-animate fadeInUp ftco-animated"},i.a.createElement("h3",{class:"mb-4 billing-heading"},"Add New Product"),i.a.createElement("form",{onSubmit:ue,name:"mainForm",class:"p-5 bg-light b-top-dark"},i.a.createElement("div",{class:"row align-items-end"},i.a.createElement("div",{class:"col-md-6"},i.a.createElement("div",{class:"form-group"},i.a.createElement("label",{for:"country"},"Category * "),i.a.createElement("div",{class:"d-flex"},i.a.createElement("select",{id:"categoryDropDown",class:"form-control",defaultValue:R,onChange:le,required:!0},i.a.createElement("option",{value:""},"Select any one"),void 0!==y&&null!==y&&""!==y&&(y.length>0?y:[]).map((function(e,t){return i.a.createElement("option",{id:e.id,value:e.id},e.category_name)}))),i.a.createElement("input",{type:"button",class:"btn btn-primary br-none",onClick:function(){ce(1)},value:"Add New"})))),i.a.createElement("div",{class:"col-md-6"},i.a.createElement("div",{class:"form-group"},i.a.createElement("label",{for:"country"},"Sub Category * "),i.a.createElement("div",{class:"d-flex"},i.a.createElement("select",{id:"subCategoryDropDown",class:"form-control",defaultValue:H,required:!0},i.a.createElement("option",{value:""},"Select any one"),void 0!==r&&null!==r&&""!==r&&(r.length>0?r:[]).map((function(e,t){return i.a.createElement("option",{id:e.id,value:e.id},e.category_name)}))),i.a.createElement("input",{type:"button",class:"btn btn-primary br-none",onClick:function(){ce(2)},value:"Add New"})))),i.a.createElement("div",{class:"w-100"}),i.a.createElement("div",{class:"col-md-8"},i.a.createElement("div",{class:"form-group"},i.a.createElement("label",{for:"productName"},"Product Name *"),i.a.createElement("input",{id:"productName",type:"text",class:"form-control",placeholder:"",required:!0}))),i.a.createElement("div",{class:"col-md-4"},i.a.createElement("div",{class:"form-group"},i.a.createElement("label",{for:"productMainUnit"},"Measure Main Unit *"),i.a.createElement("select",{id:"productMainUnit",class:"form-control",required:!0,onChange:oe},i.a.createElement("option",{value:""},"Select any one"),void 0!==j&&null!==j&&""!==j&&(j.length>0?j:[]).map((function(e,t){return 0===e.is_bundle?i.a.createElement("option",{id:e.id,value:e.id},e.unit_name):null}))))),U.length>0&&i.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),"innerForm"===e.target.name){var t=Object(n.a)(te),a=document.getElementById("packetWeight")?document.getElementById("packetWeight").value:"",r=document.getElementById("packetUnitId")?document.getElementById("packetUnitId").value:"",c=j.find((function(e){return e.id==document.getElementById("productUnitIn").value})),l=j.find((function(e){return e.id==r})),o={unitValue:document.getElementById("productUnitValue").value,unitIn:document.getElementById("productUnitIn").value,price:document.getElementById("productPrice").value,isPacket:r?1:0,packetWeight:a,packetUnitId:r,unitInName:c.unit_name,packetUnitIdName:l?l.unit_name:""};t.push(o),ae(t),Object(n.a)(U).map((function(e,t){e.id==o.unitIn&&U.splice(t,1)})),document.getElementById("productUnitIn").value=""}},name:"innerForm",class:"inner-form"},i.a.createElement("div",{class:"col-md-6"},i.a.createElement("div",{class:"form-group"},i.a.createElement("label",{for:"productUnitIn"},"Unit/Measurement *"),i.a.createElement("div",{class:"d-flex"},i.a.createElement("input",{id:"productUnitValue",type:"text",class:"form-control",defaultValue:"1",disabled:!0,required:!0}),i.a.createElement("select",{id:"productUnitIn",class:"form-control",required:!0,defaultValue:"",onChange:function(e){var t=j.find((function(t){return t.id==e.target.value}));t?(Y(t.is_bundle),document.getElementById("productUnitValue").value=t.default_weight):(Y(0),document.getElementById("productUnitValue").value=1)}},i.a.createElement("option",{value:""},"Select any one"),void 0!==U&&null!==U&&""!==U&&(U.length>0?U:[]).map((function(e,t){return i.a.createElement("option",{id:e.id,value:e.id},e.unit_name)})))))),1===X&&i.a.createElement("div",{class:"col-md-4"},i.a.createElement("div",{class:"form-group"},i.a.createElement("label",{for:"productWeight"},"Weight *"),i.a.createElement("div",{class:"d-flex"},i.a.createElement("input",{id:"packetWeight",type:"text",class:"form-control",placeholder:"",required:!0}),i.a.createElement("select",{id:"packetUnitId",class:"form-control",required:!0},i.a.createElement("option",{value:""},"Select any one"),void 0!==C&&null!==C&&""!==C&&(C.length>0?C:[]).map((function(e,t){return i.a.createElement("option",{id:e.id,value:e.id},e.unit_name)})))))),i.a.createElement("div",{class:0===X?"col-md-6":"col-md-2"},i.a.createElement("div",{class:"form-group"},i.a.createElement("label",{for:"productPrice"},"Price (In $)"),i.a.createElement("input",{id:"productPrice",type:"text",class:"form-control",placeholder:""}))),i.a.createElement("div",{class:"add-unit"},i.a.createElement("button",{type:"submit"}," Add"))),i.a.createElement("div",{class:"w-100"},te.length>0&&i.a.createElement("table",{className:"unit-array-table"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"#"),i.a.createElement("th",null,"Units"),i.a.createElement("th",null,"Price"),i.a.createElement("th",null,"Action"))),i.a.createElement("tbody",null,(te.length>0?te:[]).map((function(e,t){return i.a.createElement("tr",null,i.a.createElement("td",null,t+1),i.a.createElement("td",null,e.unitValue+" "+e.unitInName,e.packetWeight&&e.packetUnitId?"(".concat(e.packetWeight," ").concat(e.packetUnitIdName," per  ").concat(e.unitInName,")"):""),i.a.createElement("td",null,e.price),i.a.createElement("td",null,i.a.createElement("button",{type:"button",className:"delete-button",onClick:function(){!function(e){var t=Object(n.a)(te),a=Object(n.a)(U),r=t[e].unitIn,c=j.find((function(e){return e.id==r}));a.push(c),S(a),t.splice(e,1),ae(t)}(t)}},"Delete")))}))))),i.a.createElement("div",{class:"col-md-12"},i.a.createElement("div",{class:"form-group"},i.a.createElement("label",{for:"description"},"Description "),i.a.createElement("textarea",{name:"",id:"productDescription",cols:"30",rows:"10",class:"form-control"}))),i.a.createElement("div",{class:"w-100"}),i.a.createElement("div",{class:"form-group p-4"},i.a.createElement("input",{type:"submit",value:"Submit",class:"btn  px-4 btn-primary"})))))))),i.a.createElement(f.a,null),V?i.a.createElement(E.a,{open:V,setCategoryDialogOpen:L,props:M,setCategoryList:h,setSubCategory:v,setDefaultCategoryId:$,setDefaultSubCategoryId:K}):null)}}}]);
//# sourceMappingURL=9.3f19a1b2.chunk.js.map