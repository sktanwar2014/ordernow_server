(this.webpackJsonpnew=this.webpackJsonpnew||[]).push([[16],{109:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return v}));var l=a(1),r=a.n(l),n=a(4),s=a(32),c=a(41),i=a(9),o=a(0),d=a.n(o),m=a(40),u=a(2),p=a(31),f=a(30),E={firstName:"",lastName:"",state:"",streetAddress:"",flatAdd:"",city:"",postCode:"",phone:"",email:""};function v(e){var t=Object(o.useState)(),a=Object(i.a)(t,2),l=(a[0],a[1]),v=Object(o.useState)([]),h=Object(i.a)(v,2),b=h[0],g=h[1],y=Object(o.useState)(E),w=Object(i.a)(y,2),A=w[0],C=w[1],x=function(e){C(Object(c.a)({},A,Object(s.a)({},e.target.name,e.target.value)))},N=function(){var e=Object(n.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.removeSelectedAddress({id:t,userId:u.b.get().userId});case 3:a=e.sent,g(a.billingAddresses),C(E),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){var e=0;u.c.get().cart.map((function(t){e+=Number(t.total)})),l(e),j()}),[]);var j=function(){var e=Object(n.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.fetchPreviousBillingAddresss({userId:u.b.get().userId});case 3:t=e.sent,g(t.billingAddresses),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var t=Object(n.a)(r.a.mark((function t(a){var l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,l={shipping_id:A.shipping_id,firstName:A.firstName,lastName:A.lastName,state:A.state,streetAddress:A.streetAddress,flatAdd:A.flatAdd,city:A.city,postCode:A.postCode,phone:A.phone,email:A.email,createdBy:u.b.get().userId,cartItems:u.c.get().cart},t.next=5,m.a.addNewOrder(l);case 5:!0===t.sent&&u.c.removeCart(),e.history.push("/"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log("Error...",t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}();return d.a.createElement(o.Fragment,null,d.a.createElement(f.a,null),d.a.createElement("section",{class:"ftco-section"},d.a.createElement("div",{class:"container"},d.a.createElement("div",{id:"addressList",class:"row"},d.a.createElement("h3",null,"Your Addresses")),d.a.createElement("div",{class:"row"},(b.length>0?b:[]).map((function(e,t){return d.a.createElement("div",{class:"col-12 col-md-4"},d.a.createElement("div",{class:"single-special pre-address wow fadeInUp"},d.a.createElement("h4",null,e.full_name),d.a.createElement("ul",null,d.a.createElement("li",null,e.flat_add),d.a.createElement("li",null,e.street_add),d.a.createElement("li",null,e.city+" - "+e.pincode),d.a.createElement("li",null,e.state),d.a.createElement("li",null,e.mobile)),d.a.createElement("a",{href:"#billing-detail-form",onClick:function(){!function(e){var t=e.full_name?e.full_name.split(" ")[0]:"",a=e.full_name?e.full_name.split(" ")[1]:"";C({shipping_id:e.id,firstName:t,lastName:a,state:e.state,streetAddress:e.street_add,flatAdd:e.flat_add,city:e.city,postCode:e.pincode,phone:e.mobile,email:e.email})}(e)}},"Choose as billing address"),d.a.createElement("a",{href:"#addressList",onClick:function(){N(e.id)}},"Remove")))}))),d.a.createElement("div",{className:"row"},d.a.createElement("form",{onSubmit:O,class:"billing-form"},d.a.createElement("div",{class:"row justify-content-center"},d.a.createElement("div",{class:"col-xl-7 ftco-animate fadeInUp ftco-animated"},d.a.createElement("h3",{id:"billing-detail-form",class:"mb-4 billing-heading"},"Billing Details"),d.a.createElement("div",{class:"row align-items-end"},d.a.createElement("div",{class:"col-md-6"},d.a.createElement("div",{class:"form-group"},d.a.createElement("label",{for:"firstname"},"First Name"),d.a.createElement("input",{type:"text",id:"firstName",name:"firstName",value:A.firstName,onChange:x,class:"form-control",placeholder:"",required:!0}))),d.a.createElement("div",{class:"col-md-6"},d.a.createElement("div",{class:"form-group"},d.a.createElement("label",{for:"lastname"},"Last Name"),d.a.createElement("input",{type:"text",id:"lastName",name:"lastName",value:A.lastName,onChange:x,class:"form-control",placeholder:"",required:!0}))),d.a.createElement("div",{class:"w-100"}),d.a.createElement("div",{class:"col-md-12"},d.a.createElement("div",{class:"form-group"},d.a.createElement("label",{for:"country"},"State / Country"),d.a.createElement("input",{type:"text",id:"state",name:"state",value:A.state,onChange:x,class:"form-control",placeholder:"",required:!0}))),d.a.createElement("div",{class:"w-100"}),d.a.createElement("div",{class:"col-md-6"},d.a.createElement("div",{class:"form-group"},d.a.createElement("label",{for:"streetaddress"},"Street Address"),d.a.createElement("input",{type:"text",id:"streetAddress",name:"streetAddress",value:A.streetAddress,onChange:x,class:"form-control",placeholder:"House number and street name",required:!0}))),d.a.createElement("div",{class:"col-md-6"},d.a.createElement("div",{class:"form-group"},d.a.createElement("input",{type:"text",id:"flatAdd",name:"flatAdd",class:"form-control",value:A.flatAdd,onChange:x,placeholder:"Appartment, suite, unit etc.",required:!0}))),d.a.createElement("div",{class:"w-100"}),d.a.createElement("div",{class:"col-md-6"},d.a.createElement("div",{class:"form-group"},d.a.createElement("label",{for:"towncity"},"Town / City"),d.a.createElement("input",{type:"text",id:"city",name:"city",class:"form-control",onChange:x,value:A.city,placeholder:"",required:!0}))),d.a.createElement("div",{class:"col-md-6"},d.a.createElement("div",{class:"form-group"},d.a.createElement("label",{for:"postcodezip"},"Postcode / ZIP *"),d.a.createElement("input",{type:"number",id:"postCode",name:"postCode",class:"form-control",onChange:x,value:A.postCode,placeholder:"",required:!0}))),d.a.createElement("div",{class:"w-100"}),d.a.createElement("div",{class:"col-md-6"},d.a.createElement("div",{class:"form-group"},d.a.createElement("label",{for:"phone"},"Phone"),d.a.createElement("input",{type:"number",id:"phone",name:"phone",value:A.phone,onChange:x,class:"form-control",placeholder:"",required:!0}))),d.a.createElement("div",{class:"col-md-6"},d.a.createElement("div",{class:"form-group"},d.a.createElement("label",{for:"emailaddress"},"Email Address"),d.a.createElement("input",{type:"email",id:"email",name:"email",value:A.email,onChange:x,class:"form-control",placeholder:"",required:!0}))),d.a.createElement("div",{class:"w-100"}))),d.a.createElement("div",{class:"col-xl-5"},d.a.createElement("div",{class:"row mt-5 pt-3"},d.a.createElement("div",{class:"col-md-12",style:{marginTop:"400px"}},d.a.createElement("div",{class:"cart-detail p-3 p-md-4"},d.a.createElement("p",null,d.a.createElement("input",{type:"submit",value:"Place an order",class:"btn btn-primary py-3 px-4"}))))))))))),d.a.createElement(p.a,null))}}}]);
//# sourceMappingURL=16.d771e4a9.chunk.js.map