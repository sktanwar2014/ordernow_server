{"version":3,"sources":["common/Validation/ChangePassword.js","Views/Auth/ChangePassword.js"],"names":["validate","values","errors","password","passwordRegex","test","confirmpassword","RESET_VALUES","ChangePassword","props","useState","inputs","setInputs","setErrors","isLoading","setIsLoading","isSubmitting","setIsSubmitting","showRegisteredMsg","setShowRegisteredMsg","alertParams","setAlertParams","handleInputChange","target","name","value","handleSubmit","e","a","preventDefault","Object","length","AuthAPI","changePassword","result","alertParam","isUpdated","APP_TOKEN","remove","message1","message2","link","linkText","variant","console","log","className","onSubmit","class","style","margin","for","src","alt","type","id","onChange","disabled","float","onClick","window","location","pathname"],"mappings":"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","file":"static/js/39.52eb5c2d.chunk.js","sourcesContent":["import { validString, validNonSpaceString, passwordRegex, validNumber, validFullLengthDecimalNumber, validEmail, validAlpha } from './Regex';\r\n\r\n\r\nexport default function validate(values) {\r\n    let errors = {};  \r\n  \r\n    if (!values.password) {\r\n        errors.password = 'Password is missing';\r\n    } else if (!passwordRegex.test(values.password)) {\r\n        errors.password = 'Password is invalid';\r\n    }\r\n\r\n    if (!values.confirmpassword) {\r\n        errors.confirmpassword = 'Confirm password is missing';\r\n    } else if (!passwordRegex.test(values.password)) {\r\n        errors.confirmpassword = 'Confirm Password is invalid';\r\n    } else if ((values.password) !== (values.confirmpassword)) {\r\n        errors.confirmpassword = 'Confirm Password not match';\r\n    }  \r\n    \r\n    return errors;\r\n  };","import React, {useState, Fragment} from 'react';\r\n\r\n// Components\r\nimport {APP_TOKEN} from '../../api/config/Constants';\r\nimport AuthAPI from '../../api/auth.js'; \r\nimport {LinkAlert} from  '../../common/Alert.js';\r\nimport CallLoader from '../../common/Loader.js';\r\nimport validate from '../../common/Validation/ChangePassword.js';\r\n\r\nconst RESET_VALUES = {\r\n    password : '',\r\n    confirmpassword : '',\r\n};\r\n\r\nexport default function ChangePassword(props){\r\n    const [inputs, setInputs] = useState(RESET_VALUES);\r\n    const [errors, setErrors] = useState(RESET_VALUES);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n    const [showRegisteredMsg, setShowRegisteredMsg] = useState(false);\r\n    const [alertParams, setAlertParams] = useState({});\r\n\r\n    \r\n    const handleInputChange  = (props) => {\r\n      setInputs({...inputs, [props.target.name]: props.target.value});\r\n    }\r\n    \r\n    const handleCancel = () => {\r\n        window.location.pathname = '/';\r\n    }\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const errors = await validate(inputs);\r\n        setErrors(errors);\r\n\r\n        if(Object.values(errors).length === 0){\r\n            setIsLoading(true);\r\n            setIsSubmitting(true);\r\n            try{\r\n                const result = await AuthAPI.changePassword({\r\n                    password : inputs.password,\r\n                });\r\n                let alertParam = {};\r\n                if(result.isUpdated === true){\r\n                    APP_TOKEN.remove();\r\n                    alertParam.message1 = \"Your password has been changed successfully. Use your new password to\";\r\n                    alertParam.message2 = \".\";\r\n                    alertParam.link = '/login';\r\n                    alertParam.linkText = \" Login\";\r\n                    alertParam.variant = \"info\";\r\n                }else{\r\n                    alertParam.message1 = \"Operation\";\r\n                    alertParam.message2 = \"\";\r\n                    alertParam.link = '';\r\n                    alertParam.linkText = \"\";\r\n                    alertParam.variant = \"warning\";\r\n                }\r\n                setAlertParams(alertParam);\r\n                setInputs(RESET_VALUES);\r\n                setShowRegisteredMsg(true);\r\n                setIsLoading(false);\r\n                setIsSubmitting(false);\r\n            }catch(e){\r\n                console.log('Error...',e);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    return(\r\n        <Fragment>\r\n            <section className=\"signup-section\">\r\n                <div className= \"signup-container w-60\">\r\n                    <div className=\"signup-form-div w-100\">\r\n                        <form onSubmit={handleSubmit} class=\"billing-form\">\r\n\t\t\t\t\t\t    <div style={{margin: \"15px 0px\"}}>\r\n                                <h5 className=\"create-account\">Change Password </h5>\r\n                                <hr />\r\n                            </div>\r\n\t          \t            <div class=\"row align-items-end\" style={{margin: \"48px 60px\"}}>\r\n                                <div class=\"col-md-6\">\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"password\">New Password *</label>\r\n                                        <div className=\"tooltip-div\">\r\n                                            <img src=\"/images/warning-sign.png\" alt=\"app logo\" class=\"icon-size offset-7\"  />\r\n                                            <span class=\"tooltiptext\">\r\n                                                <ul className=\"m-bottom m-top\">\r\n                                                    <li>The string must contain at least 1 lowercase alphabetical character.</li>\r\n                                                    <li>The string must contain at least 1 uppercase alphabetical character.</li>\r\n                                                    <li>The string must contain at least 1 numeric character.</li>\r\n                                                    <li>The string must contain at least one special character.</li>\r\n                                                    <li>The string must be eight characters or longer.</li>\r\n                                                </ul>\r\n                                            </span>\r\n                                        </div>\r\n                                        <input type=\"password\" value={inputs.password} name=\"password\" id=\"password\" class=\"signup-form-control\"  onChange={handleInputChange} />\r\n                                        <input type=\"text\" value={errors.password} disabled  className={errors.password ? \"error-input d-block\" : \"error-input d-none\" } />\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col-md-6\">\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"confirmpassword\">Confirm new password *</label>\r\n                                        <input type=\"password\" name=\"confirmpassword\" id=\"confirmpassword\" class=\"signup-form-control\" value={inputs.confirmpassword} onChange={handleInputChange} />\r\n                                        <input type=\"text\" value={errors.confirmpassword} disabled  className={errors.confirmpassword ? \"error-input d-block\" : \"error-input d-none\" } />\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col-md-12\">\r\n                                    <div class=\"form-group\">\r\n                                        <p style={{float :\"right\"}}>\r\n                                            <button type=\"button\" class=\"btn btn-primary m-10\" onClick={handleCancel}>Cancel</button>\r\n                                            <button type=\"submit\" class=\"btn btn-primary\" disabled={isSubmitting} >Submit</button>\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                                {showRegisteredMsg ? \r\n                                    <LinkAlert {...alertParams} /> \r\n                                : null}\r\n\t                        </div>\r\n\t                    </form>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            {isLoading ?   <CallLoader />   : null  }\r\n        </Fragment>\r\n    )\r\n}"],"sourceRoot":""}