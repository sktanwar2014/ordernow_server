{"version":3,"sources":["Views/Components/ProductVerification.js"],"names":["DeliveryForm","props","console","log","userId","APP_TOKEN","get","useState","location","state","order","product","productList","productUnitList","setProductUnitList","useEffect","getProductUnitList","a","StaticAPI","result","handleSubmit","e","preventDefault","productData","map","data","push","user_id","delivered_id","ordered_id","id","product_id","quantity","document","getElementById","value","unit_id","OrderAPI","orderVerificationByCustomer","orderId","window","pathname","alert","class","onSubmit","order_id","getDateInDDMMYYYY","order_date","mobile","delivery_date","full_name","flat_add","street_add","city","pincode","className","length","index","product_name","type","name","min","step","required","is_bundle","unit_name"],"mappings":"6OAWe,SAASA,EAAaC,GACjCC,QAAQC,IAAIF,GAEZ,IAAMG,EAASC,IAAUC,MAAMF,OAHS,EAIbG,mBAASN,EAAMO,SAASC,MAAMC,OAJjB,mBAIjCA,EAJiC,aAKFH,mBAASN,EAAMO,SAASC,MAAME,UAL5B,mBAKjCC,EALiC,aAMML,mBAAS,KANf,mBAMjCM,EANiC,KAMhBC,EANgB,KASxCC,qBAAU,WACNC,MACF,IAEF,IAAMA,EAAkB,uCAAG,4BAAAC,EAAA,+EAEEC,IAAUF,qBAFZ,OAEbG,EAFa,OAGnBL,EAAmBK,EAAON,iBAHP,gDAKnBX,QAAQC,IAAI,WAAZ,MALmB,yDAAH,qDASlBiB,EAAY,uCAAG,WAAOC,GAAP,eAAAJ,EAAA,6DACjBI,EAAEC,iBADe,SAGTC,EAAc,GAClBX,EAAYY,KAAI,SAACC,GACbF,EAAYG,KAAK,CACbC,QAAUvB,EACVwB,aAAeH,EAAKG,aACpBC,WAAaJ,EAAKK,GAClBC,WAAaN,EAAKM,WAClBC,SAAWC,SAASC,eAAe,mBAAmBT,EAAKM,YAAYI,MACvEC,QAAUH,SAASC,eAAe,eAAeT,EAAKM,YAAYI,WAX7D,SAeQE,IAASC,4BAA4B,CAACf,YAAaA,EAAagB,QAAU7B,EAAMoB,KAfxF,QAgBC,IAhBD,OAiBTU,OAAOhC,SAASiC,SAAW,wBAE3BC,MAAM,oBAnBG,kDAsBbxC,QAAQC,IAAI,WAAZ,MAtBa,0DAAH,sDA0BlB,OACA,kBAAC,WAAD,KACI,kBAAC,IAAD,MACI,6BAASwC,MAAM,gBACX,yBAAKA,MAAM,aACP,yBAAKA,MAAM,8BACP,yBAAKA,MAAM,iDACP,wBAAIA,MAAM,wBAAV,iBACA,0BAAMC,SAAUxB,EAAcuB,MAAM,2BAC5B,yBAAKA,MAAM,uBACP,yBAAKA,MAAM,YACP,yBAAKA,MAAM,cACP,6CACA,yBAAKA,MAAM,UACP,4BAAKjC,EAAMmC,aAIvB,yBAAKF,MAAM,YACP,yBAAKA,MAAM,cACP,+CACA,yBAAKA,MAAM,UACP,4BAAKG,YAAkBpC,EAAMqC,gBAIzC,yBAAKJ,MAAM,YACP,yBAAKA,MAAM,cACP,+CACA,yBAAKA,MAAM,UACP,4BAAKjC,EAAMsC,WAIvB,yBAAKL,MAAM,YACP,yBAAKA,MAAM,cACP,kDACA,yBAAKA,MAAM,UACX,4BAAKG,YAAkBpC,EAAMuC,mBAIrC,yBAAKN,MAAM,YACP,yBAAKA,MAAM,cACP,kDACA,yBAAKA,MAAM,UACP,4BAAKjC,EAAMwC,cAIvB,yBAAKP,MAAM,YACP,yBAAKA,MAAM,cACP,4CACA,yBAAKA,MAAM,UACP,4BAAKjC,EAAMyC,SAAW,KAAOzC,EAAM0C,WAAa,KAAO1C,EAAM2C,KAAO,KAAO3C,EAAMD,MAAQ,MAAQC,EAAM4C,YAInH,yBAAKX,MAAM,aAAX,IAAwB,6BAAxB,KACA,yBAAKA,MAAM,aACP,6CAEJ,2BAAOY,UAAU,oCACb,+BACI,4BACI,uCACA,iDACA,sCAGJ,gCACE3C,EAAY4C,OAAQ,EAAI5C,EAAa,IAAIY,KAAI,SAACC,EAAMgC,GAClD,OACI,4BACI,4BAAKhC,EAAKiC,cACV,4BACI,yBAAKf,MAAM,iCACP,2BAAOgB,KAAK,SAASC,KAAM,mBAAmBnC,EAAKM,WAAYY,MAAM,aAAab,GAAI,mBAAmBL,EAAKM,WAAY8B,IAAI,IAAIC,KAAK,OAAOC,UAAQ,MAI9J,4BACI,4BAAQjC,GAAI,eAAeL,EAAKM,WAAYY,MAAM,0BAA0BoB,UAAQ,GAChF,4BAAS5B,MAAQ,IAAjB,mBACEtB,EAAgB2C,OAAS,EAAI3C,EAAkB,IAAKW,KAAI,SAACC,GACvD,OACuB,IAAnBA,EAAKuC,UAAkB,4BAAQlC,GAAIL,EAAKK,GAAIK,MAAOV,EAAKK,IAAML,EAAKwC,WAAqB,gBAY5H,yBAAKtB,MAAM,kBACP,2BAAOgB,KAAK,SAASxB,MAAM,SAASQ,MAAM,iCAQ9E,kBAAC,IAAD","file":"static/js/17.165df98c.chunk.js","sourcesContent":["import React, {useState, useEffect, Fragment} from 'react';\r\n\r\n//Components \r\nimport {APP_TOKEN} from '../../api/config/Constants.js';\r\nimport StaticAPI from '../../api/static.js';\r\nimport OrderAPI from '../../api/order.js';\r\nimport Header from '../Partials/Header.js';\r\nimport Footer from '../Partials/Footer.js';\r\n\r\nimport {getDate, getDateInDDMMYYYY} from '../../common/moment.js';\r\n\r\nexport default function DeliveryForm(props) {\r\n    console.log(props)\r\n\r\n    const userId = APP_TOKEN.get().userId;\r\n    const [order, setOrder]  = useState(props.location.state.order);\r\n    const [productList, setProductList] = useState(props.location.state.product);\r\n    const [productUnitList, setProductUnitList] = useState([]);\r\n\r\n\r\n    useEffect(()=>{\r\n        getProductUnitList();\r\n    },[]);\r\n\r\n    const getProductUnitList = async () => {\r\n        try{\r\n            const result = await StaticAPI.getProductUnitList();\r\n            setProductUnitList(result.productUnitList);            \r\n        }catch(e){\r\n            console.log('Error...',e);\r\n        }\r\n    }\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        try{\r\n            let productData = [];\r\n            productList.map((data)=> {\r\n                productData.push({\r\n                    user_id : userId,\r\n                    delivered_id : data.delivered_id,\r\n                    ordered_id : data.id,\r\n                    product_id : data.product_id,\r\n                    quantity : document.getElementById('provideQuantity-'+data.product_id).value,\r\n                    unit_id : document.getElementById('productUnit-'+data.product_id).value,\r\n                })\r\n            })\r\n\r\n            const result = await OrderAPI.orderVerificationByCustomer({productData: productData, orderId : order.id});\r\n            if(result === true){ // true = inserted\r\n                window.location.pathname = '/view-user-order-list';\r\n            }else{\r\n                alert('Failed Insertion');\r\n            }\r\n        }catch(e){\r\n            console.log('Error...', e);\r\n        }\r\n    }\r\n\r\n    return(\r\n    <Fragment>\r\n        <Header />\r\n            <section class=\"ftco-section\">\r\n                <div class=\"container\">\r\n                    <div class=\"row justify-content-center\">\r\n                        <div class=\"col-xl-12 ftco-animate fadeInUp ftco-animated\">\r\n                            <h3 class=\"mb-4 billing-heading\">Delivery Form</h3>\r\n                            <form onSubmit={handleSubmit} class=\"p-5 bg-light b-top-dark\">\r\n                                    <div class=\"row align-items-end\">\r\n                                        <div class=\"col-md-3\">\r\n                                            <div class=\"form-group\">\r\n                                                <label>Order Id: </label>\r\n                                                <div class=\"d-flex\">\r\n                                                    <h6>{order.order_id}</h6>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>   \r\n                                        <div class=\"col-md-3\">\r\n                                            <div class=\"form-group\">\r\n                                                <label>Order Date: </label>\r\n                                                <div class=\"d-flex\">\r\n                                                    <h6>{getDateInDDMMYYYY(order.order_date)}</h6>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>  \r\n                                        <div class=\"col-md-3\">\r\n                                            <div class=\"form-group\">\r\n                                                <label>Mobile No.: </label>\r\n                                                <div class=\"d-flex\">\r\n                                                    <h6>{order.mobile}</h6>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>  \r\n                                        <div class=\"col-md-3\">\r\n                                            <div class=\"form-group\">\r\n                                                <label>Delivery Date: </label>\r\n                                                <div class=\"d-flex\">\r\n                                                <h6>{getDateInDDMMYYYY(order.delivery_date)}</h6>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div> \r\n                                        <div class=\"col-md-3\">\r\n                                            <div class=\"form-group\">\r\n                                                <label>Customer Name: </label>\r\n                                                <div class=\"d-flex\">\r\n                                                    <h6>{order.full_name}</h6>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div> \r\n                                        <div class=\"col-md-9\">\r\n                                            <div class=\"form-group\">\r\n                                                <label>Address: </label>\r\n                                                <div class=\"d-flex\">\r\n                                                    <h6>{order.flat_add + ', ' + order.street_add + ', ' + order.city + ', ' + order.state + ' - ' + order.pincode}</h6>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"col-md-12\"> <hr /> </div>\r\n                                        <div class=\"col-md-12\">\r\n                                            <h5>Product List</h5>\r\n                                        </div>\r\n                                        <table className=\"unit-array-table table-min-width\">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th>Product</th>\r\n                                                    <th>Received Quantity</th>\r\n                                                    <th>Unit</th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                                <tbody>\r\n                                                {(productList.length >0 ? productList :[]).map((data, index) => {\r\n                                                    return(\r\n                                                        <tr>\r\n                                                            <td>{data.product_name}</td>\r\n                                                            <td>\r\n                                                                <div class=\"d-flex justify-content-center\">\r\n                                                                    <input type=\"number\" name={\"provideQuantity-\"+data.product_id} class=\"cost-input\" id={\"provideQuantity-\"+data.product_id} min=\"0\" step=\"0.01\" required/>\r\n                                                                    {/* <p class=\"cost-input-adoptment\"> {data.purchased_unit_name} </p> */}\r\n                                                                </div>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <select id={\"productUnit-\"+data.product_id} class=\"select-verified-product\" required>\r\n                                                                    <option  value = \"\">Select any one</option>\r\n                                                                    {(productUnitList.length > 0 ? productUnitList : [] ).map((data)=>{\r\n                                                                        return(\r\n                                                                            data.is_bundle === 0 ? <option id={data.id} value={data.id} >{data.unit_name}</option> :null\r\n                                                                        )\r\n                                                                    })\r\n                                                                    }\r\n                                                                </select>\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                        )\r\n                                                    })\r\n                                                }\r\n                                                </tbody>\r\n                                            </table>\r\n                                        <div class=\"form-group p-4\">\r\n                                            <input type=\"submit\" value=\"Submit\" class=\"btn  px-4 btn-primary\" />\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n        <Footer />\r\n    </Fragment>\r\n    )\r\n}"],"sourceRoot":""}