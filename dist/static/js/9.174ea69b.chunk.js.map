{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","Views/Admin/AddProduct.js"],"names":["_toConsumableArray","arr","Array","isArray","i","arr2","length","iter","Symbol","iterator","Object","prototype","toString","call","from","TypeError","AddProduct","props","useState","subCategory","setSubCategory","categoryList","setCategoryList","productUnitList","setProductUnitList","filteredUnitList","setFilteredUnitList","singleUnitList","setSingleUnitList","categoryDialogOpen","setCategoryDialogOpen","categoryDialogProps","setCategoryDialogProps","defaultCategoryId","setDefaultCategoryId","defaultSubCategoryId","setDefaultSubCategoryId","showWeightFields","setShowWeightFields","productUnitBio","setProductUnitBio","isLoading","setIsLoading","useEffect","getCategoryList","getProductUnitList","a","StaticAPI","result","console","log","CategoriesAPI","addUpdateCategoriesDialog","type","document","getElementById","value","alert","operation","id","get","getSubCategoryList","undefined","categoryId","subCategoriesList","getMainUnitRelateRecords","e","target","unitId","selectedUnit","find","ele","is_bundle","filter","handleSubmit","preventDefault","name","formData","subCategoryId","productName","description","createdBy","APP_TOKEN","userId","productUnits","mainUnitId","insertNewProduct","history","push","Header","class","onSubmit","for","defaultValue","onChange","required","map","data","index","category_name","onClick","placeholder","unit_name","tempUnitArray","packetWeight","packetUnitId","unitInName","packetUnitIdName","unitData","unitValue","unitIn","price","isPacket","splice","disabled","default_weight","step","min","className","temp","unit_id","found","handleDeleteProductUnit","cols","rows","Footer","AddUpdateCategoriesDialog","open"],"mappings":"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","file":"static/js/9.174ea69b.chunk.js","sourcesContent":["import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import React, {useState, useEffect, Fragment} from 'react';\r\nimport Table from 'react-bootstrap/Table';\r\n\r\n//Components \r\nimport CategoriesAPI from '../../api/categories.js';\r\nimport {APP_TOKEN} from '../../api/config/Constants.js';\r\nimport StaticAPI from '../../api/static.js';\r\nimport Header from '../Partials/Header.js';\r\nimport Footer from '../Partials/Footer.js';\r\nimport AddUpdateCategoriesDialog from './Components/AddUpdateCategoriesDialog.js';\r\nimport CallLoader from '../../common/Loader.js';\r\n\r\n\r\nexport default function AddProduct(props) {\r\n\r\n    const [subCategory, setSubCategory] = useState([]);\r\n    const [categoryList, setCategoryList] = useState([]);\r\n    const [productUnitList, setProductUnitList] = useState([]);\r\n    const [filteredUnitList, setFilteredUnitList] = useState([]);\r\n    const [singleUnitList, setSingleUnitList] = useState([]);\r\n    \r\n    const [categoryDialogOpen, setCategoryDialogOpen] = useState(false);\r\n    const [categoryDialogProps, setCategoryDialogProps] = useState({});\r\n    const [defaultCategoryId, setDefaultCategoryId] = useState(\"\");\r\n    const [defaultSubCategoryId, setDefaultSubCategoryId] = useState(\"\");\r\n    const [showWeightFields, setShowWeightFields] = useState(0);\r\n    const [productUnitBio, setProductUnitBio] = useState([]);\r\n\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    useEffect(()=>{\r\n        getCategoryList();\r\n        getProductUnitList();\r\n    },[]);\r\n\r\n    const getProductUnitList = async () => {\r\n        try{\r\n            const result = await StaticAPI.getProductUnitList();\r\n            setProductUnitList(result.productUnitList);            \r\n        }catch(e){\r\n            console.log('Error...',e);\r\n        }\r\n    }\r\n\r\n    const getCategoryList = async () => {\r\n        try{\r\n            const result = await CategoriesAPI.getCategoryList();\r\n            setCategoryList(result.categoryList);            \r\n        }catch(e){\r\n            console.log('Error...',e);\r\n        }\r\n    }\r\n\r\n\r\n    const addUpdateCategoriesDialog = (type) => {\r\n        if (type === 2 && (document.getElementById('categoryDropDown').value === \"\")) {\r\n            alert('Select Category !');\r\n        }else{\r\n            setCategoryDialogProps({type: type, operation: 'add', id: document.getElementById('categoryDropDown').value, value :'',  get: 'activated' })\r\n            setCategoryDialogOpen(true);\r\n        }\r\n    }\r\n\r\n\r\n    const getSubCategoryList = async () => {\r\n        setIsLoading(true);\r\n\r\n        let id = document.getElementById('categoryDropDown').value;\r\n        if(id !== '' && id !== undefined && id !== null){\r\n            try{\r\n                const result = await CategoriesAPI.getSubCategoryList({categoryId: id});\r\n                setSubCategory(result.subCategoriesList);\r\n                setIsLoading(false);\r\n            }catch(e){\r\n                console.log('Error...',e);\r\n            }\r\n        }\r\n    }\r\n\r\n    const getMainUnitRelateRecords = async (e) => {\r\n        if(e.target.value === \"\"){\r\n            setFilteredUnitList([]);\r\n            setSingleUnitList([]);\r\n        }else {\r\n            setIsLoading(true);\r\n            let unitId = e.target.value;\r\n            const selectedUnit = productUnitList.find(ele => {return ele.id == e.target.value});\r\n            let is_bundle = selectedUnit.is_bundle;\r\n            try{\r\n                const result = await StaticAPI.getMainUnitRelateRecords({id: unitId, is_bundle: is_bundle});\r\n                setFilteredUnitList(result.productUnitList);\r\n                const singleUnitList = result.productUnitList.filter(ele => {return ele.is_bundle == 0});\r\n                setSingleUnitList(singleUnitList);\r\n                setIsLoading(false);\r\n            } catch(e){\r\n                console.log(e)\r\n            }\r\n        }\r\n        setProductUnitBio([]);\r\n    }\r\n    \r\n    const handleMeasurementSelection = (e) => {        \r\n        const selectedUnit = productUnitList.find(ele => {return ele.id == e.target.value});\r\n        if(selectedUnit){\r\n            setShowWeightFields(selectedUnit.is_bundle);\r\n            document.getElementById('productUnitValue').value = selectedUnit.default_weight;            \r\n        }else{\r\n            setShowWeightFields(0);\r\n            document.getElementById('productUnitValue').value = 1;\r\n        }\r\n    }\r\n\r\n    const handleAddProductUnit = (e) => {\r\n        e.preventDefault();\r\n        if(e.target.name === \"innerForm\"){\r\n            let tempUnitArray = [...productUnitBio];\r\n            \r\n            let packetWeight =  document.getElementById(\"packetWeight\") ? document.getElementById(\"packetWeight\").value : '';\r\n            let packetUnitId =  document.getElementById(\"packetUnitId\") ? document.getElementById(\"packetUnitId\").value :'';\r\n            let unitInName = productUnitList.find(ele => { return ele.id == document.getElementById(\"productUnitIn\").value});\r\n            let packetUnitIdName = productUnitList.find(ele => {return ele.id ==  packetUnitId});\r\n\r\n            let unitData = {\r\n                unitValue : document.getElementById(\"productUnitValue\").value,\r\n                unitIn : document.getElementById(\"productUnitIn\").value,\r\n                price : document.getElementById(\"productPrice\").value,\r\n                isPacket : packetUnitId ? 1 : 0,\r\n                packetWeight : packetWeight,\r\n                packetUnitId : packetUnitId,\r\n                unitInName : unitInName.unit_name,\r\n                packetUnitIdName :  packetUnitIdName ?  packetUnitIdName.unit_name : '',\r\n            }\r\n            tempUnitArray.push(unitData);\r\n            setProductUnitBio(tempUnitArray);\r\n\r\n            let temp = [...filteredUnitList];\r\n            temp.map((data, index) => {\r\n                if(data.id == unitData.unitIn){\r\n                    filteredUnitList.splice(index,1);\r\n                }\r\n            });\r\n            document.getElementById(\"productUnitIn\").value = \"\";\r\n        }\r\n    }\r\n\r\n    const handleDeleteProductUnit = (index) => {\r\n        let tempUnitArray = [...productUnitBio];\r\n        let temp = [...filteredUnitList];\r\n\r\n\r\n        const unit_id = tempUnitArray[index].unitIn;\r\n        const found = productUnitList.find(ele => {return ele.id == unit_id})\r\n        temp.push(found);\r\n        setFilteredUnitList(temp);\r\n\r\n        tempUnitArray.splice(index,1);\r\n        setProductUnitBio(tempUnitArray);\r\n    }\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        try{            \r\n            if(e.target.name === \"mainForm\"){\r\n                setIsLoading(true);\r\n                if(productUnitBio.length > 0){\r\n                    const formData = {\r\n                        categoryId : document.getElementById('categoryDropDown').value,\r\n                        subCategoryId : document.getElementById('subCategoryDropDown').value,\r\n                        productName : document.getElementById('productName').value,\r\n                        description : document.getElementById('productDescription').value,\r\n                        createdBy :  APP_TOKEN.get().userId,\r\n                        productUnits : productUnitBio,\r\n                        mainUnitId : document.getElementById('productMainUnit').value,\r\n                    };\r\n                    const result = await CategoriesAPI.insertNewProduct(formData);\r\n                    setIsLoading(false);\r\n                    if(result === true){    // true = inserted\r\n                        props.history.push('/');\r\n                    }else{\r\n                        alert('Failed Insertion');\r\n                    }\r\n                }else{\r\n                    alert('Add atleast one unit for product..');\r\n                }\r\n            }\r\n        }catch(e){\r\n            console.log('Error...', e);\r\n        }\r\n    }\r\n\r\n    return(\r\n    <Fragment>\r\n        <Header />\r\n            <section class=\"ftco-section\">\r\n                <div class=\"container\">\r\n                    <div class=\"row justify-content-center\">\r\n                        <div class=\"col-xl-12 ftco-animate fadeInUp ftco-animated\">\r\n                            <h3 class=\"mb-4 billing-heading\">Add New Product</h3>\r\n                            <form onSubmit={handleSubmit} name=\"mainForm\" class=\"p-5 bg-light b-top-dark\">\r\n                                    <div class=\"row align-items-end\">\r\n                                        <div class=\"col-md-6\">\r\n                                            <div class=\"form-group\">\r\n                                                <label for=\"country\">Category * </label>\r\n                                                <div class=\"d-flex\">\r\n                                                    <select id=\"categoryDropDown\" class=\"form-control\" defaultValue={defaultCategoryId} onChange={getSubCategoryList} required>\r\n                                                        <option  value = \"\">Select any one</option>\r\n                                                        {(categoryList !== undefined && categoryList !== null && categoryList !== \"\") && \r\n                                                         (categoryList.length > 0 ? categoryList : [] ).map((data, index)=>{\r\n                                                            return(\r\n                                                                <option id={data.id} value={data.id} >{data.category_name}</option>\r\n                                                            )\r\n                                                         })\r\n                                                        }\r\n                                                    </select>\r\n                                                    <input type=\"button\" class=\"btn btn-primary br-none\" onClick={()=>{addUpdateCategoriesDialog(1)}} value=\"Add New\" />\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>   \r\n                                        <div class=\"col-md-6\">\r\n                                            <div class=\"form-group\">\r\n                                                <label for=\"country\">Sub Category * </label>\r\n                                                <div class=\"d-flex\">\r\n                                                    <select id=\"subCategoryDropDown\" class=\"form-control\"  defaultValue={defaultSubCategoryId}  required>\r\n                                                        <option  value = \"\">Select any one</option>\r\n                                                        {(subCategory !== undefined && subCategory !== null && subCategory !== \"\") && \r\n                                                         (subCategory.length > 0 ? subCategory : [] ).map((data, index)=>{\r\n                                                            return(\r\n                                                                <option id={data.id} value={data.id} >{data.category_name}</option>\r\n                                                            )\r\n                                                         })\r\n                                                        }\r\n                                                    </select>\r\n                                                    <input type=\"button\" class=\"btn btn-primary br-none\" onClick={()=>{addUpdateCategoriesDialog(2)}} value=\"Add New\" />\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>    \r\n                                        <div class=\"w-100\"></div>\r\n                                        <div class=\"col-md-8\">\r\n                                            <div class=\"form-group\">\r\n                                                <label for=\"productName\">Product Name *</label>\r\n                                                <input id=\"productName\" type=\"text\" class=\"form-control\" placeholder=\"\" required/>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"col-md-4\">\r\n                                            <div class=\"form-group\">\r\n                                                <label for=\"productMainUnit\">Measure Main Unit *</label>\r\n                                                    <select id=\"productMainUnit\" class=\"form-control\" required onChange={getMainUnitRelateRecords}>\r\n                                                        <option  value = \"\">Select any one</option>\r\n                                                        {(productUnitList !== undefined && productUnitList !== null && productUnitList !== \"\") && \r\n                                                        (productUnitList.length > 0 ? productUnitList : [] ).map((data, index)=>{\r\n                                                            return(\r\n                                                            data.is_bundle ===0 ?    <option id={data.id} value={data.id} >{data.unit_name}</option> :null\r\n                                                            )\r\n                                                        })\r\n                                                        }\r\n                                                    </select>\r\n                                            </div>\r\n                                        </div>\r\n                                        {filteredUnitList.length > 0 && \r\n                                        <form onSubmit={handleAddProductUnit} name=\"innerForm\" class=\"inner-form\">\r\n                                        <div class=\"col-md-6\">\r\n                                            <div class=\"form-group\">\r\n                                                <label for=\"productUnitIn\">Unit/Measurement *</label>\r\n                                                <div class=\"d-flex\">  \r\n                                                    <input id=\"productUnitValue\" type=\"text\" class=\"form-control\" defaultValue=\"1\" disabled required/>                                         \r\n                                                    <select id=\"productUnitIn\" class=\"form-control\" required defaultValue=\"\"  onChange={handleMeasurementSelection}>\r\n                                                        <option  value = \"\">Select any one</option>\r\n                                                        {(filteredUnitList !== undefined && filteredUnitList !== null && filteredUnitList !== \"\") && \r\n                                                        (filteredUnitList.length > 0 ? filteredUnitList : [] ).map((data, index)=>{\r\n                                                            return(\r\n                                                                <option id={data.id} value={data.id} >{data.unit_name}</option>\r\n                                                            )\r\n                                                        })\r\n                                                        }\r\n                                                    </select>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        {showWeightFields  === 1 &&\r\n                                            <div class=\"col-md-4\">\r\n                                                <div class=\"form-group\">                                                \r\n                                                    <label for=\"productWeight\">Weight *</label>\r\n                                                    <div class=\"d-flex\">  \r\n                                                        <input id=\"packetWeight\" type=\"text\" class=\"form-control\" placeholder=\"\" required/>\r\n                                                        <select id=\"packetUnitId\" class=\"form-control\" required>\r\n                                                            <option  value = \"\">Select any one</option>\r\n                                                            {(singleUnitList !== undefined && singleUnitList !== null && singleUnitList !== \"\") && \r\n                                                            (singleUnitList.length > 0 ? singleUnitList : [] ).map((data, index)=>{\r\n                                                                return(\r\n                                                                    <option id={data.id} value={data.id} >{data.unit_name}</option > \r\n                                                                )\r\n                                                            })\r\n                                                            }\r\n                                                        </select>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        }\r\n                                        <div class={showWeightFields  === 0 ? \"col-md-6\" : \"col-md-2\"}>\r\n                                            <div class=\"form-group\">\r\n                                                <label for=\"productPrice\">Price (In $)</label>\r\n                                                <input id=\"productPrice\" type=\"number\" step=\"0.00\" min=\"0\" class=\"form-control\" placeholder=\"\"/>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"add-unit\">\r\n                                            <button type=\"submit\"> Add</button>\r\n                                        </div>\r\n                                        </form>\r\n                                        }\r\n                                        <div class=\"w-100\">\r\n                                        {productUnitBio.length > 0 &&\r\n                                        <table className=\"unit-array-table\">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th>#</th>\r\n                                                    <th>Units</th>\r\n                                                    <th>Price</th>\r\n                                                    <th>Action</th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                                {(productUnitBio.length > 0 ? productUnitBio : []).map((data, index) => {\r\n                                                    return(\r\n                                                        <tr>\r\n                                                            <td>{index + 1}</td>\r\n                                                            <td>\r\n                                                                {data.unitValue + ' ' + data.unitInName}\r\n                                                                {(data.packetWeight && data.packetUnitId) ? `(${data.packetWeight} ${data.packetUnitIdName} per  ${data.unitInName})` : ``}\r\n                                                            </td>\r\n                                                            <td>{data.price}</td>\r\n                                                            <td>\r\n                                                                <button type=\"button\" className=\"delete-button\" onClick={()=>{handleDeleteProductUnit(index)}}>Delete</button>\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                    )\r\n                                                })}\r\n                                            </tbody>\r\n                                            </table>\r\n                                        }\r\n                                        </div>\r\n                                        <div class=\"col-md-12\">\r\n                                            <div class=\"form-group\">\r\n                                                <label for=\"description\">Description </label>\r\n                                                <textarea name=\"\" id=\"productDescription\" cols=\"30\" rows=\"10\" class=\"form-control\"></textarea>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"w-100\"></div>\r\n                                        <div class=\"form-group p-4\">\r\n                                            <input type=\"submit\" value=\"Submit\" class=\"btn  px-4 btn-primary\" />\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n        <Footer />\r\n            { categoryDialogOpen ? \r\n                <AddUpdateCategoriesDialog \r\n                    open={categoryDialogOpen} \r\n                    setCategoryDialogOpen = {setCategoryDialogOpen} \r\n                    props = {categoryDialogProps} \r\n                    setCategoryList = {setCategoryList}\r\n                    setSubCategory = {setSubCategory}\r\n                    setDefaultCategoryId = {setDefaultCategoryId}\r\n                    setDefaultSubCategoryId = {setDefaultSubCategoryId}\r\n                /> \r\n                : null \r\n            }\r\n            {isLoading ?   <CallLoader />   : null  }\r\n\r\n    </Fragment>\r\n    )\r\n}"],"sourceRoot":""}